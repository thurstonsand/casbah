<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Project.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 - 2013 10gen, Inc. &lt;http://10gen.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah.query.dsl
<span class="keyword">package</span> aggregation

<span class="keyword">import</span> com.mongodb.casbah.query.<a href="Implicits.scala.html#10234" title="object com.mongodb.casbah.query.Imports">Imports</a>._
<span class="keyword">import</span> com.mongodb.casbah.query.ChainedOperator

<span class="comment">/**
 * Base trait to implement $project
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.PipelineOperator with ScalaObject" id="10301">ProjectOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="package.scala.html#10363" title="com.mongodb.casbah.query.dsl.aggregation.PipelineOperator">PipelineOperator</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="34700">operator</a> = <span title="java.lang.String(&quot;$project&quot;)" class="string">&quot;$project&quot;</span>

  <span class="comment">// TODO - Validate only valid field entries?</span>
  <span class="keyword">def</span> <a title="(target: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34702">$project</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="43260">target</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span> = <a href="package.scala.html#34675" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34700" title="=&gt; java.lang.String">operator</a>, <a href="#43260" title="com.mongodb.casbah.query.Imports.DBObject">target</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fields: (String, Any)*)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34703">$project</a><span class="delimiter">(</span><a title="(String, Any)*" id="43263">fields</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
     <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]" id="43266">bldr</a> = <a href="Implicits.scala.html#10234" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">newBuilder</span>
     <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="43322">k</a>, <a title="Any" id="43323">v</a><span class="delimiter">)</span> &lt;- <a href="#43263" title="(f: ((String, Any)) =&gt; scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject])Unit">fields</a><span class="delimiter">)</span> <a href="#43266" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a> <span title="(elem: (String, Any))bldr.type">+=</span> <a href="#43322" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43323" title="Any">v</a>
     <a href="package.scala.html#34675" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34700" title="=&gt; java.lang.String">operator</a>, <a href="#43266" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a>.<span title="()com.mongodb.casbah.commons.Imports.DBObject">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperators extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator" id="10302">ProjectSubOperators</a> <span class="keyword">extends</span> <a href="#10307" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator">ProjectAndBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10308" title="com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator">ProjectOrBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10309" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator">ProjectNotBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10310" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator">ProjectCmpComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10311" title="com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator">ProjectEqComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10312" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator">ProjectGtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10313" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator">ProjectGteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10314" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator">ProjectLtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10315" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator">ProjectLteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10316" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator">ProjectNeComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10317" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator">ProjectAddArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10319" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator">ProjectDivideArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10318" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator">ProjectMultiplyArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10320" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator">ProjectSubtractArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10321" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator">ProjectCaseInsensitiveCompareStringOperator</a>
  <span class="keyword">with</span> <a href="#10322" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator">ProjectSubstringStringOperator</a>
  <span class="keyword">with</span> <a href="#10324" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator">ProjectToUpperStringOperator</a>
  <span class="keyword">with</span> <a href="#10323" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator">ProjectToLowerStringOperator</a>
  <span class="keyword">with</span> <a href="#10325" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator">ProjectDayOfYearDateOperator</a>
  <span class="keyword">with</span> <a href="#10327" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator">ProjectDayOfWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10326" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator">ProjectDayOfMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10329" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator">ProjectMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10330" title="com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator">ProjectWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10331" title="com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator">ProjectHourDateOperator</a>
  <span class="keyword">with</span> <a href="#10332" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator">ProjectMinuteDateOperator</a>
  <span class="keyword">with</span> <a href="#10333" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator">ProjectSecondDateOperator</a>
  <span class="keyword">with</span> <a href="#10334" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator">ProjectCondConditionalOperator</a>
  <span class="keyword">with</span> <a href="#10335" title="com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator">ProjectIfNullConditionalOperator</a>


<span class="keyword">trait</span> <a title="trait ProjectSubExpressionObject extends java.lang.Object" id="10303">ProjectSubExpressionObject</a> <span title="java.lang.Object" class="delimiter">{</span>
  self: DBObject =&gt;
  <span class="keyword">def</span> <a title="=&gt; String" id="43352">field</a>: <span title="String">String</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="10304">ProjectSubExpressionObject</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A &lt;: String, B](kv: (A, B))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43356">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: String" id="43359">A</a> &lt;: String, <a title="&gt;: Nothing &lt;: Any" id="43360">B</a> &lt;: Any<span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B)" id="43362">kv</a>: <span title="(A, B)" class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#43363" title="ProjectSubExpressionObject extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43366">obj</a> = <a href="#43367" title="com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject{}" class="keyword">new</a> <a href="Implicits.scala.html#10234" title="anonymous class $anon extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43367">BasicDBObject</a> <span class="keyword">with</span> <a href="#10303" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="A" id="43369">field</a> = <a href="#43362" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span> <span class="delimiter">}</span>
    <a href="#43366" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43362" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span>, <a href="#43362" title="(A, B)">kv</a>.<span title="=&gt; B">_2</span><span class="delimiter">)</span>
    <a href="#43366" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperator extends java.lang.Object with com.mongodb.casbah.query.ChainedOperator with ScalaObject" id="10306">ProjectSubOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Implicits.scala.html#10231" title="com.mongodb.casbah.query.ChainedOperator">ChainedOperator</a> <span class="delimiter">{</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23469">projectionOp</a><span class="delimiter">(</span><a title="String" id="43487">oper</a>: <span title="String">String</span>, <a title="Any" id="43488">target</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#43489" title="ProjectSubOperator extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <a href="#43356" title="(kv: (String, com.mongodb.casbah.commons.Imports.DBObject))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a><span class="delimiter">(</span><a href="Implicits.scala.html#23352" title="=&gt; Option[com.mongodb.casbah.commons.Imports.DBObject]">dbObj</a> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">Some</span><span class="delimiter">(</span><a title="com.mongodb.casbah.commons.Imports.DBObject" id="43495">nested</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#43495" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43487" title="String">oper</a>, <a href="#43488" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23351" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43495" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">None</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="com.mongodb.casbah.commons.Imports.DBObject" id="43512">opMap</a> = <a href="Implicits.scala.html#10234" title="(elems: (String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#43487" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43488" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23351" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43512" title="com.mongodb.casbah.commons.Imports.DBObject">opMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**** BOOLEAN OPERATORS */</span>

<span class="comment">/**
 * $and
 *
 * BOOLEAN AND
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic.
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAndBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10307">ProjectAndBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$1: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43584">$and</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23473">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43583">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43588">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43583" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43605">x</a> =&gt; <a href="#43588" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43584" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10252" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21671" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43605" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23474" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$and</a><span class="delimiter">(</span><a href="#43588" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23474">$and</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43620">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$and&quot;)" class="string">&quot;$and&quot;</span>, <a href="#43620" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $or
 *
 * BOOLEAN OR
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOrBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10308">ProjectOrBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43647">$or</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23478">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43646">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43651">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43646" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43668">x</a> =&gt; <a href="#43651" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43647" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10252" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21671" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43668" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23479" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$or</a><span class="delimiter">(</span><a href="#43651" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23479">$or</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43683">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$or&quot;)" class="string">&quot;$or&quot;</span>, <a href="#43683" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 *
 * $not
 *
 * BOOLEAN NOT
 *
 * Takes a single argument, either a Boolean or a field containing a boolean,
 * and returns the boolean opposite
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNotBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10309">ProjectNotBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23481">$not</a><span class="delimiter">(</span><a title="String" id="43709">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43709" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;)" class="string">&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43709" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: Boolean)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23482">$not</a><span class="delimiter">(</span><a title="Boolean" id="43716">target</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43716" title="Boolean">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**** COMPARISON OPERATORS
 * These opers take an array w/ a pair of values.
 * All but $cmp return a boolean
 */</span>

<span class="comment">/**
 * $cmp
 *
 * Compare two values, returning an integer
 *
 * NEGATIVE - First Value &lt; Second Value
 * POSITIVE - First Value &gt; Second Value
 *        0 - Both Values Equal
 *
 *  ex:
 *     &quot;foo&quot; $cmp (&quot;$name1&quot;, &quot;$name2&quot;)
 *
 *  remember for sub-fields to use $, we can't cleanly validate here
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCmpComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10310">ProjectCmpComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23484">$cmp</a><span class="delimiter">(</span><a title="Any" id="43721">first</a>: <span title="Any">Any</span>, <a title="Any" id="43722">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cmp&quot;)" class="string">&quot;$cmp&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43721" title="Any">first</a>, <a href="#43722" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $eq
 *
 * Does first value equal second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectEqComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10311">ProjectEqComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23486">$eq</a><span class="delimiter">(</span><a title="Any" id="43730">first</a>: <span title="Any">Any</span>, <a title="Any" id="43731">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$eq&quot;)" class="string">&quot;$eq&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43730" title="Any">first</a>, <a href="#43731" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gt
 *
 * Is first value greater than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10312">ProjectGtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23488">$gt</a><span class="delimiter">(</span><a title="Any" id="43739">first</a>: <span title="Any">Any</span>, <a title="Any" id="43740">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gt&quot;)" class="string">&quot;$gt&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43739" title="Any">first</a>, <a href="#43740" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gte
 *
 * Is first value greater than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10313">ProjectGteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23490">$gte</a><span class="delimiter">(</span><a title="Any" id="43748">first</a>: <span title="Any">Any</span>, <a title="Any" id="43749">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gte&quot;)" class="string">&quot;$gte&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43748" title="Any">first</a>, <a href="#43749" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lt
 *
 * Is first value less than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10314">ProjectLtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23492">$lt</a><span class="delimiter">(</span><a title="Any" id="43757">first</a>: <span title="Any">Any</span>, <a title="Any" id="43758">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lt&quot;)" class="string">&quot;$lt&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43757" title="Any">first</a>, <a href="#43758" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lte
 *
 * Is first value less than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10315">ProjectLteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23494">$lte</a><span class="delimiter">(</span><a title="Any" id="43766">first</a>: <span title="Any">Any</span>, <a title="Any" id="43767">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lte&quot;)" class="string">&quot;$lte&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43766" title="Any">first</a>, <a href="#43767" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ne
 *
 * Is first value not equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNeComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10316">ProjectNeComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23496">$ne</a><span class="delimiter">(</span><a title="Any" id="43775">first</a>: <span title="Any">Any</span>, <a title="Any" id="43776">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ne&quot;)" class="string">&quot;$ne&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43775" title="Any">first</a>, <a href="#43776" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/****** ARITHMETIC OPERATORS */</span>

<span class="comment">/**
 * $add
 *
 * Adds an array of one or more numbers together, returning the resulting sum.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAddArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10317">ProjectAddArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$3: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43785">$add</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23500">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43784">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43789">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43784" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43806">x</a> =&gt; <a href="#43789" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43785" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10252" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21671" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43806" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23501" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$add</a><span class="delimiter">(</span><a href="#43789" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23501">$add</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43821">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$add&quot;)" class="string">&quot;$add&quot;</span>, <a href="#43821" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $multiply
 *
 * Multiply an array of one or more numbers together, returning the result.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMultiplyArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10318">ProjectMultiplyArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$4: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43848">$multiply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23507">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43847">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43852">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43847" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43869">x</a> =&gt; <a href="#43852" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43848" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#10252" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21671" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43869" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23508" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$multiply</a><span class="delimiter">(</span><a href="#43852" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23508">$multiply</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43884">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$multiply&quot;)" class="string">&quot;$multiply&quot;</span>, <a href="#43884" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** NOTE $mod already fully implemented in query DSL; exact same syntax/behavior */</span>

<span class="comment">/**
 * $divide
 *
 * Takes a PAIR of numbers, divides 1/2, returning result
 * Can be field ref or #
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDivideArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10319">ProjectDivideArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(numerator: Any, denominator: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23503">$divide</a><span class="delimiter">(</span><a title="Any" id="43910">numerator</a>: <span title="Any">Any</span>, <a title="Any" id="43911">denominator</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$divide&quot;)" class="string">&quot;$divide&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43910" title="Any">numerator</a>, <a href="#43911" title="Any">denominator</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $subtract
 *
 * takes a PAIR of numbers, subtracts 2 from 1, returns difference
 *
 * Can be a field ref or #
 * TODO - Typeclass me
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubtractArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10320">ProjectSubtractArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23510">$subtract</a><span class="delimiter">(</span><a title="Any" id="43919">first</a>: <span title="Any">Any</span>, <a title="Any" id="43920">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$subtract&quot;)" class="string">&quot;$subtract&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43919" title="Any">first</a>, <a href="#43920" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/***** STRING OPERATORS
 *  note that most of these string operators have serious bugs with non-roman glyphs.
 */</span>

<span class="comment">/**
 * $strcasecmp
 *
 * Takes a PAIR of strings (either a Field ref or an actual string)
 * and compares them in a case-insensitive fashion.
 * RETURN
 *    -# if first &gt; second
 *    +# if first &lt; second
 *     0 if both are identical
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCaseInsensitiveCompareStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10321">ProjectCaseInsensitiveCompareStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: String, second: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23512">$strcasecmp</a><span class="delimiter">(</span><a title="String" id="43928">first</a>: <span title="String">String</span>, <a title="String" id="43929">second</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$strcasecmp&quot;)" class="string">&quot;$strcasecmp&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: String*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43928" title="String">first</a>, <a href="#43929" title="String">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $substr
 *
 * Extracts a substring from a string.
 * (String, Int, Int) -
 *   String - A string or field ref to extract from
 *   Int1 - # of bytes to skip
 *   Int2 - # of bytes to return
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubstringStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10322">ProjectSubstringStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String, skip: Int, ret: Int)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23514">$substr</a><span class="delimiter">(</span><a title="String" id="43937">target</a>: <span title="String">String</span>, <a title="Int" id="43938">skip</a>: <span title="Int">Int</span>, <a title="Int" id="43939">ret</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$substr&quot;)" class="string">&quot;$substr&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43937" title="String">target</a>, <a href="#43938" title="Int">skip</a>, <a href="#43939" title="Int">ret</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toLower
 *
 * Convert a string to lowercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToLowerStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10323">ProjectToLowerStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23518">$toLower</a><span class="delimiter">(</span><a title="String" id="43956">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toLower&quot;)" class="string">&quot;$toLower&quot;</span>, <a href="#43956" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toUpper
 *
 * Convert a string to uppercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToUpperStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10324">ProjectToUpperStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23516">$toUpper</a><span class="delimiter">(</span><a title="String" id="43961">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toUpper&quot;)" class="string">&quot;$toUpper&quot;</span>, <a href="#43961" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*** DATE OPERATIONS
 * Take a date field or a raw date
 */</span>

<span class="comment">/**
 * $dayOfYear
 *
 * Extracts the day of year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10325">ProjectDayOfYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23520">$dayOfYear</a><span class="delimiter">(</span><a title="String" id="43966">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43966" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43966" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$5: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43974">$dayOfYear</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23523">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43973">target</a>: <a href="#23523" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43973" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfMonth
 *
 * Extracts the day of month from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10326">ProjectDayOfMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23530">$dayOfMonth</a><span class="delimiter">(</span><a title="String" id="43981">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43981" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43981" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$6: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43989">$dayOfMonth</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23533">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43988">target</a>: <a href="#23533" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43988" title="T">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfWeek
 *
 * Extracts the day of Week from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10327">ProjectDayOfWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23525">$dayOfWeek</a><span class="delimiter">(</span><a title="String" id="43996">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43996" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#43996" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$7: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44004">$dayOfWeek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23528">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44003">target</a>: <a href="#23528" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#44003" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $year
 *
 * Extracts the full year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10328">ProjectYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44010">$year</a><span class="delimiter">(</span><a title="String" id="44016">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44016" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#44016" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44024">$year</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="44013">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44023">target</a>: <a href="#44013" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#44023" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $month
 *
 * Extracts the month (1-12) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10329">ProjectMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23535">$month</a><span class="delimiter">(</span><a title="String" id="44031">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44031" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#44031" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$9: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44039">$month</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23538">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44038">target</a>: <a href="#23538" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#44038" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $week
 *
 * Extracts the day of Week from a BSON date
 *  value: 0-53, if a day falls before the first sunday of year, in week 0
 *  Same value as strftime(&quot;%U&quot;) yields in unix stdlib
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10330">ProjectWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23540">$week</a><span class="delimiter">(</span><a title="String" id="44046">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44046" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#44046" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$10: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44054">$week</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23543">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44053">target</a>: <a href="#23543" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#44053" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $hour
 *
 * Extracts the hour (0-23) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectHourDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10331">ProjectHourDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23545">$hour</a><span class="delimiter">(</span><a title="String" id="44061">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44061" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#44061" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$11: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44069">$hour</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23548">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44068">target</a>: <a href="#23548" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#44068" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $minute
 *
 * Extracts the minute (0-59) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMinuteDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10332">ProjectMinuteDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23550">$minute</a><span class="delimiter">(</span><a title="String" id="44076">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44076" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#44076" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44084">$minute</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23553">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44083">target</a>: <a href="#23553" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#44083" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $second
 *
 * Extracts the second  from a BSON date
 *  value: 0-59 *but*, can be 60 in the case of a leap second
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSecondDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10333">ProjectSecondDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23555">$second</a><span class="delimiter">(</span><a title="String" id="44091">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#44091" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;</span><span class="delimiter">)</span>
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#44091" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44099">$second</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23558">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44098">target</a>: <a href="#23558" title="T">T</a><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#44098" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="comment">/*** CONDITIONAL EXPRESSIONS */</span>

<span class="comment">/**
 * $cond
 *
 * takes three expressions
 * evaluates first expression to boolean
 *  if first evals true, evaluates &amp; returns second
 *  if first evals false, evaluates &amp; returns third
 *
 * TODO - Better type limiting?
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCondConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10334">ProjectCondConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](condition: T, ifTrue: Any, elseIfFalse: Any)(implicit evidence$14: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="44109">$cond</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23562">T</a>: ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="44106">condition</a>: <a href="#23562" title="T">T</a>, <a title="Any" id="44107">ifTrue</a>: <span title="Any">Any</span>, <a title="Any" id="44108">elseIfFalse</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
    <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cond&quot;)" class="string">&quot;$cond&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#44106" title="T">condition</a>, <a href="#44107" title="Any">ifTrue</a>, <a href="#44108" title="Any">elseIfFalse</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ifNull
 *
 * Takes array w/ two expressions
 *  if first evals non-null, returns it
 *  else, returns evaluation of second expression
 *
 *  TODO - Better type limiting
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectIfNullConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10335">ProjectIfNullConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10306" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(expression: Any, replacementIfNull: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23564">$ifNull</a><span class="delimiter">(</span><a title="Any" id="44121">expression</a>: <span title="Any">Any</span>, <a title="Any" id="44122">replacementIfNull</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23469" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ifNull&quot;)" class="string">&quot;$ifNull&quot;</span>, <a href="Implicits.scala.html#10234" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#44121" title="Any">expression</a>, <a href="#44122" title="Any">replacementIfNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>