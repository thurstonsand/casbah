<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Project.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 - 2013 10gen, Inc. &lt;http://10gen.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah.query.dsl
<span class="keyword">package</span> aggregation

<span class="keyword">import</span> com.mongodb.casbah.query.<a href="Implicits.scala.html#9964" title="object com.mongodb.casbah.query.Imports">Imports</a>._
<span class="keyword">import</span> com.mongodb.casbah.query.ChainedOperator

<span class="comment">/**
 * Base trait to implement $project
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.PipelineOperator with ScalaObject" id="10031">ProjectOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="package.scala.html#10093" title="com.mongodb.casbah.query.dsl.aggregation.PipelineOperator">PipelineOperator</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="34479">operator</a> = <span title="java.lang.String(&quot;$project&quot;)" class="string">&quot;$project&quot;</span>

  <span class="comment">// TODO - Validate only valid field entries?</span>
  <span class="keyword">def</span> <a title="(target: com.mongodb.casbah.query.Imports.DBObject)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34481">$project</a><span class="delimiter">(</span><a title="com.mongodb.casbah.query.Imports.DBObject" id="43039">target</a>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">)</span> = <a href="package.scala.html#34454" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34479" title="=&gt; java.lang.String">operator</a>, <a href="#43039" title="com.mongodb.casbah.query.Imports.DBObject">target</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fields: (String, Any)*)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline" id="34482">$project</a><span class="delimiter">(</span><a title="(String, Any)*" id="43042">fields</a>: <span title="(String, Any)*" class="delimiter">(</span>String, Any<span class="delimiter">)</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
     <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]" id="43045">bldr</a> = <a href="Implicits.scala.html#9964" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">newBuilder</span>
     <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="43101">k</a>, <a title="Any" id="43102">v</a><span class="delimiter">)</span> &lt;- <a href="#43042" title="(f: ((String, Any)) =&gt; scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject])Unit">fields</a><span class="delimiter">)</span> <a href="#43045" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a> <span title="(elem: (String, Any))bldr.type">+=</span> <a href="#43101" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43102" title="Any">v</a>
     <a href="package.scala.html#34454" title="(oper: String, target: Any)com.mongodb.casbah.query.dsl.aggregation.AggregationPipeline">op</a><span class="delimiter">(</span><a href="#34479" title="=&gt; java.lang.String">operator</a>, <a href="#43045" title="scala.collection.mutable.Builder[(String, Any),com.mongodb.casbah.commons.Imports.DBObject]">bldr</a>.<span title="()com.mongodb.casbah.commons.Imports.DBObject">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperators extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator with com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator" id="10032">ProjectSubOperators</a> <span class="keyword">extends</span> <a href="#10037" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAndBooleanOperator">ProjectAndBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10038" title="com.mongodb.casbah.query.dsl.aggregation.ProjectOrBooleanOperator">ProjectOrBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10039" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNotBooleanOperator">ProjectNotBooleanOperator</a>
  <span class="keyword">with</span> <a href="#10040" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCmpComparisonOperator">ProjectCmpComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10041" title="com.mongodb.casbah.query.dsl.aggregation.ProjectEqComparisonOperator">ProjectEqComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10042" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGtComparisonOperator">ProjectGtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10043" title="com.mongodb.casbah.query.dsl.aggregation.ProjectGteComparisonOperator">ProjectGteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10044" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLtComparisonOperator">ProjectLtComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10045" title="com.mongodb.casbah.query.dsl.aggregation.ProjectLteComparisonOperator">ProjectLteComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10046" title="com.mongodb.casbah.query.dsl.aggregation.ProjectNeComparisonOperator">ProjectNeComparisonOperator</a>
  <span class="keyword">with</span> <a href="#10047" title="com.mongodb.casbah.query.dsl.aggregation.ProjectAddArithmeticOperator">ProjectAddArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10049" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDivideArithmeticOperator">ProjectDivideArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10048" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMultiplyArithmeticOperator">ProjectMultiplyArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10050" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubtractArithmeticOperator">ProjectSubtractArithmeticOperator</a>
  <span class="keyword">with</span> <a href="#10051" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCaseInsensitiveCompareStringOperator">ProjectCaseInsensitiveCompareStringOperator</a>
  <span class="keyword">with</span> <a href="#10052" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubstringStringOperator">ProjectSubstringStringOperator</a>
  <span class="keyword">with</span> <a href="#10054" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToUpperStringOperator">ProjectToUpperStringOperator</a>
  <span class="keyword">with</span> <a href="#10053" title="com.mongodb.casbah.query.dsl.aggregation.ProjectToLowerStringOperator">ProjectToLowerStringOperator</a>
  <span class="keyword">with</span> <a href="#10055" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfYearDateOperator">ProjectDayOfYearDateOperator</a>
  <span class="keyword">with</span> <a href="#10057" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfWeekDateOperator">ProjectDayOfWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10056" title="com.mongodb.casbah.query.dsl.aggregation.ProjectDayOfMonthDateOperator">ProjectDayOfMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10059" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMonthDateOperator">ProjectMonthDateOperator</a>
  <span class="keyword">with</span> <a href="#10060" title="com.mongodb.casbah.query.dsl.aggregation.ProjectWeekDateOperator">ProjectWeekDateOperator</a>
  <span class="keyword">with</span> <a href="#10061" title="com.mongodb.casbah.query.dsl.aggregation.ProjectHourDateOperator">ProjectHourDateOperator</a>
  <span class="keyword">with</span> <a href="#10062" title="com.mongodb.casbah.query.dsl.aggregation.ProjectMinuteDateOperator">ProjectMinuteDateOperator</a>
  <span class="keyword">with</span> <a href="#10063" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSecondDateOperator">ProjectSecondDateOperator</a>
  <span class="keyword">with</span> <a href="#10064" title="com.mongodb.casbah.query.dsl.aggregation.ProjectCondConditionalOperator">ProjectCondConditionalOperator</a>
  <span class="keyword">with</span> <a href="#10065" title="com.mongodb.casbah.query.dsl.aggregation.ProjectIfNullConditionalOperator">ProjectIfNullConditionalOperator</a>


<span class="keyword">trait</span> <a title="trait ProjectSubExpressionObject extends java.lang.Object" id="10033">ProjectSubExpressionObject</a> <span title="java.lang.Object" class="delimiter">{</span>
  self: DBObject =&gt;
  <span class="keyword">def</span> <a title="=&gt; String" id="43131">field</a>: <span title="String">String</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="10034">ProjectSubExpressionObject</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A &lt;: String, B](kv: (A, B))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43135">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: String" id="43138">A</a> &lt;: String, <a title="&gt;: Nothing &lt;: Any" id="43139">B</a> &lt;: Any<span class="delimiter">]</span><span class="delimiter">(</span><a title="(A, B)" id="43141">kv</a>: <span title="(A, B)" class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#43142" title="ProjectSubExpressionObject extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43145">obj</a> = <a href="#43146" title="com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject{}" class="keyword">new</a> <a href="Implicits.scala.html#9964" title="anonymous class $anon extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43146">BasicDBObject</a> <span class="keyword">with</span> <a href="#10033" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="A" id="43148">field</a> = <a href="#43141" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span> <span class="delimiter">}</span>
    <a href="#43145" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43141" title="(A, B)">kv</a>.<span title="=&gt; A">_1</span>, <a href="#43141" title="(A, B)">kv</a>.<span title="=&gt; B">_2</span><span class="delimiter">)</span>
    <a href="#43145" title="obj extends com.mongodb.BasicDBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">obj</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ProjectSubOperator extends java.lang.Object with com.mongodb.casbah.query.ChainedOperator with ScalaObject" id="10036">ProjectSubOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Implicits.scala.html#9961" title="com.mongodb.casbah.query.ChainedOperator">ChainedOperator</a> <span class="delimiter">{</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23422">projectionOp</a><span class="delimiter">(</span><a title="String" id="43266">oper</a>: <span title="String">String</span>, <a title="Any" id="43267">target</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="#43268" title="ProjectSubOperator extends com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">DBObject</a> <span class="keyword">with</span> ProjectSubExpressionObject = <a href="#43135" title="(kv: (String, com.mongodb.casbah.commons.Imports.DBObject))com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">ProjectSubExpressionObject</a><span class="delimiter">(</span><a href="Implicits.scala.html#23305" title="=&gt; Option[com.mongodb.casbah.commons.Imports.DBObject]">dbObj</a> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">Some</span><span class="delimiter">(</span><a title="com.mongodb.casbah.commons.Imports.DBObject" id="43274">nested</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#43274" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a>.<span title="(x$1: java.lang.String, x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><a href="#43266" title="String">oper</a>, <a href="#43267" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23304" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43274" title="com.mongodb.casbah.commons.Imports.DBObject">nested</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="(String, com.mongodb.casbah.commons.Imports.DBObject)">None</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="com.mongodb.casbah.commons.Imports.DBObject" id="43291">opMap</a> = <a href="Implicits.scala.html#9964" title="(elems: (String, Any)*)com.mongodb.casbah.commons.Imports.DBObject">MongoDBObject</a><span class="delimiter">(</span><a href="#43266" title="(x: String)ArrowAssoc[String]">oper</a> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#43267" title="Any">target</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="Implicits.scala.html#23304" title="(x: String)ArrowAssoc[String]">field</a> <span title="(y: com.mongodb.casbah.commons.Imports.DBObject)(String, com.mongodb.casbah.commons.Imports.DBObject)">-&gt;</span> <a href="#43291" title="com.mongodb.casbah.commons.Imports.DBObject">opMap</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**** BOOLEAN OPERATORS */</span>

<span class="comment">/**
 * $and
 *
 * BOOLEAN AND
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic.
 *
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAndBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10037">ProjectAndBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$1: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43363">$and</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23426">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43362">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43367">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43362" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43384">x</a> =&gt; <a href="#43367" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43363" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#9982" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21624" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43384" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23427" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$and</a><span class="delimiter">(</span><a href="#43367" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23427">$and</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43399">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$and&quot;)" class="string">&quot;$and&quot;</span>, <a href="#43399" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $or
 *
 * BOOLEAN OR
 *
 * Takes an array of one or more values, returning true/false
 * using short circuiting logic
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectOrBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10038">ProjectOrBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$2: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43426">$or</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23431">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43425">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43430">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43425" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43447">x</a> =&gt; <a href="#43430" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43426" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#9982" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21624" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43447" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23432" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$or</a><span class="delimiter">(</span><a href="#43430" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23432">$or</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43462">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$or&quot;)" class="string">&quot;$or&quot;</span>, <a href="#43462" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 *
 * $not
 *
 * BOOLEAN NOT
 *
 * Takes a single argument, either a Boolean or a field containing a boolean,
 * and returns the boolean opposite
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNotBooleanOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10039">ProjectNotBooleanOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23434">$not</a><span class="delimiter">(</span><a title="String" id="43488">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43488" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;)" class="string">&quot;The $project.$not operator only accepts a $&lt;fieldName&gt; or boolean argument; bare field names will not function. &quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43488" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: Boolean)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23435">$not</a><span class="delimiter">(</span><a title="Boolean" id="43495">target</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$not&quot;)" class="string">&quot;$not&quot;</span>, <a href="#43495" title="Boolean">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**** COMPARISON OPERATORS
 * These opers take an array w/ a pair of values.
 * All but $cmp return a boolean
 */</span>

<span class="comment">/**
 * $cmp
 *
 * Compare two values, returning an integer
 *
 * NEGATIVE - First Value &lt; Second Value
 * POSITIVE - First Value &gt; Second Value
 *        0 - Both Values Equal
 *
 *  ex:
 *     &quot;foo&quot; $cmp (&quot;$name1&quot;, &quot;$name2&quot;)
 *
 *  remember for sub-fields to use $, we can't cleanly validate here
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCmpComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10040">ProjectCmpComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23437">$cmp</a><span class="delimiter">(</span><a title="Any" id="43500">first</a>: <span title="Any">Any</span>, <a title="Any" id="43501">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cmp&quot;)" class="string">&quot;$cmp&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43500" title="Any">first</a>, <a href="#43501" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $eq
 *
 * Does first value equal second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectEqComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10041">ProjectEqComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23439">$eq</a><span class="delimiter">(</span><a title="Any" id="43509">first</a>: <span title="Any">Any</span>, <a title="Any" id="43510">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$eq&quot;)" class="string">&quot;$eq&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43509" title="Any">first</a>, <a href="#43510" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gt
 *
 * Is first value greater than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10042">ProjectGtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23441">$gt</a><span class="delimiter">(</span><a title="Any" id="43518">first</a>: <span title="Any">Any</span>, <a title="Any" id="43519">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gt&quot;)" class="string">&quot;$gt&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43518" title="Any">first</a>, <a href="#43519" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $gte
 *
 * Is first value greater than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectGteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10043">ProjectGteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23443">$gte</a><span class="delimiter">(</span><a title="Any" id="43527">first</a>: <span title="Any">Any</span>, <a title="Any" id="43528">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$gte&quot;)" class="string">&quot;$gte&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43527" title="Any">first</a>, <a href="#43528" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lt
 *
 * Is first value less than second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLtComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10044">ProjectLtComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23445">$lt</a><span class="delimiter">(</span><a title="Any" id="43536">first</a>: <span title="Any">Any</span>, <a title="Any" id="43537">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lt&quot;)" class="string">&quot;$lt&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43536" title="Any">first</a>, <a href="#43537" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $lte
 *
 * Is first value less than or equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectLteComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10045">ProjectLteComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23447">$lte</a><span class="delimiter">(</span><a title="Any" id="43545">first</a>: <span title="Any">Any</span>, <a title="Any" id="43546">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$lte&quot;)" class="string">&quot;$lte&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43545" title="Any">first</a>, <a href="#43546" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ne
 *
 * Is first value not equal to the second value?
 *
 * ret. boolean
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectNeComparisonOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10046">ProjectNeComparisonOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23449">$ne</a><span class="delimiter">(</span><a title="Any" id="43554">first</a>: <span title="Any">Any</span>, <a title="Any" id="43555">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ne&quot;)" class="string">&quot;$ne&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43554" title="Any">first</a>, <a href="#43555" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/****** ARITHMETIC OPERATORS */</span>

<span class="comment">/**
 * $add
 *
 * Adds an array of one or more numbers together, returning the resulting sum.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectAddArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10047">ProjectAddArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$3: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43564">$add</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23453">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43563">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43568">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43563" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43585">x</a> =&gt; <a href="#43568" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43564" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#9982" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21624" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43585" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23454" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$add</a><span class="delimiter">(</span><a href="#43568" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23454">$add</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43600">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$add&quot;)" class="string">&quot;$add&quot;</span>, <a href="#43600" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $multiply
 *
 * Multiply an array of one or more numbers together, returning the result.
 *
 * Could be #s or field refs.
 *
 * TODO - Typeclass me!
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMultiplyArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10048">ProjectMultiplyArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](fields: A*)(implicit evidence$4: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.DBObject" id="43627">$multiply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23460">A</a> : ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="43626">fields</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" id="43631">b</a> = <span title="object Seq">Seq</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,Seq[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <a href="#43626" title="A*">fields</a>.<span title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]])Unit">foreach</span><span class="delimiter">(</span><a title="A" id="43648">x</a> =&gt; <a href="#43631" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.query.Imports.DBObject)b.type">+=</span> <span title="[T](implicit e: T)T">implicitly</span><a href="#43627" title="(implicit e: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A])com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]" class="delimiter">[</a><a href="Implicits.scala.html#9982" title="com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[A]">ValidBarewordExpressionArgType</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="Implicits.scala.html#21624" title="(arg: A)com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">(</span><a href="#43648" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#23461" title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject">$multiply</a><span class="delimiter">(</span><a href="#43631" title="scala.collection.mutable.Builder[com.mongodb.casbah.query.Imports.DBObject,Seq[com.mongodb.casbah.query.Imports.DBObject]]">b</a>.<span title="()Seq[com.mongodb.casbah.query.Imports.DBObject]">result</span><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(list: Seq[com.mongodb.casbah.query.Imports.DBObject])com.mongodb.casbah.query.Imports.DBObject" id="23461">$multiply</a><span class="delimiter">(</span><a title="Seq[com.mongodb.casbah.query.Imports.DBObject]" id="43663">list</a>: <span title="Seq[com.mongodb.casbah.query.Imports.DBObject]">Seq</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="com.mongodb.casbah.query.Imports.DBObject">DBObject</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$multiply&quot;)" class="string">&quot;$multiply&quot;</span>, <a href="#43663" title="Seq[com.mongodb.casbah.query.Imports.DBObject]">list</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** NOTE $mod already fully implemented in query DSL; exact same syntax/behavior */</span>

<span class="comment">/**
 * $divide
 *
 * Takes a PAIR of numbers, divides 1/2, returning result
 * Can be field ref or #
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDivideArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10049">ProjectDivideArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(numerator: Any, denominator: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23456">$divide</a><span class="delimiter">(</span><a title="Any" id="43689">numerator</a>: <span title="Any">Any</span>, <a title="Any" id="43690">denominator</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$divide&quot;)" class="string">&quot;$divide&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43689" title="Any">numerator</a>, <a href="#43690" title="Any">denominator</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $subtract
 *
 * takes a PAIR of numbers, subtracts 2 from 1, returns difference
 *
 * Can be a field ref or #
 * TODO - Typeclass me
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubtractArithmeticOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10050">ProjectSubtractArithmeticOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: Any, second: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23463">$subtract</a><span class="delimiter">(</span><a title="Any" id="43698">first</a>: <span title="Any">Any</span>, <a title="Any" id="43699">second</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$subtract&quot;)" class="string">&quot;$subtract&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43698" title="Any">first</a>, <a href="#43699" title="Any">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/***** STRING OPERATORS
 *  note that most of these string operators have serious bugs with non-roman glyphs.
 */</span>

<span class="comment">/**
 * $strcasecmp
 *
 * Takes a PAIR of strings (either a Field ref or an actual string)
 * and compares them in a case-insensitive fashion.
 * RETURN
 *    -# if first &gt; second
 *    +# if first &lt; second
 *     0 if both are identical
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCaseInsensitiveCompareStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10051">ProjectCaseInsensitiveCompareStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(first: String, second: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23465">$strcasecmp</a><span class="delimiter">(</span><a title="String" id="43707">first</a>: <span title="String">String</span>, <a title="String" id="43708">second</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$strcasecmp&quot;)" class="string">&quot;$strcasecmp&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: String*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43707" title="String">first</a>, <a href="#43708" title="String">second</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $substr
 *
 * Extracts a substring from a string.
 * (String, Int, Int) -
 *   String - A string or field ref to extract from
 *   Int1 - # of bytes to skip
 *   Int2 - # of bytes to return
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSubstringStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10052">ProjectSubstringStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String, skip: Int, ret: Int)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23467">$substr</a><span class="delimiter">(</span><a title="String" id="43716">target</a>: <span title="String">String</span>, <a title="Int" id="43717">skip</a>: <span title="Int">Int</span>, <a title="Int" id="43718">ret</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$substr&quot;)" class="string">&quot;$substr&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43716" title="String">target</a>, <a href="#43717" title="Int">skip</a>, <a href="#43718" title="Int">ret</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toLower
 *
 * Convert a string to lowercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToLowerStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10053">ProjectToLowerStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23471">$toLower</a><span class="delimiter">(</span><a title="String" id="43735">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toLower&quot;)" class="string">&quot;$toLower&quot;</span>, <a href="#43735" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $toUpper
 *
 * Convert a string to uppercase, returning the result
 *
 * Target: A string or a field ref
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectToUpperStringOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10054">ProjectToUpperStringOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23469">$toUpper</a><span class="delimiter">(</span><a title="String" id="43740">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$toUpper&quot;)" class="string">&quot;$toUpper&quot;</span>, <a href="#43740" title="String">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/*** DATE OPERATIONS
 * Take a date field or a raw date
 */</span>

<span class="comment">/**
 * $dayOfYear
 *
 * Extracts the day of year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10055">ProjectDayOfYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23473">$dayOfYear</a><span class="delimiter">(</span><a title="String" id="43745">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43745" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfYear operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfYear&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43745" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$5: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43753">$dayOfYear</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23476">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43752">target</a>: <a href="#23476" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfYear&quot;)" class="string">&quot;$dayOfYear&quot;</span>, <a href="#43752" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfMonth
 *
 * Extracts the day of month from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10056">ProjectDayOfMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23483">$dayOfMonth</a><span class="delimiter">(</span><a title="String" id="43760">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43760" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfMonth operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfMonth&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43760" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$6: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43768">$dayOfMonth</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23486">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43767">target</a>: <a href="#23486" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfMonth&quot;)" class="string">&quot;$dayOfMonth&quot;</span>, <a href="#43767" title="T">target</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * $dayOfWeek
 *
 * Extracts the day of Week from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectDayOfWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10057">ProjectDayOfWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23478">$dayOfWeek</a><span class="delimiter">(</span><a title="String" id="43775">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43775" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$dayOfWeek operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_dayOfWeek&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#43775" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$7: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43783">$dayOfWeek</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23481">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43782">target</a>: <a href="#23481" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dayOfWeek&quot;)" class="string">&quot;$dayOfWeek&quot;</span>, <a href="#43782" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $year
 *
 * Extracts the full year from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectYearDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10058">ProjectYearDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43789">$year</a><span class="delimiter">(</span><a title="String" id="43795">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43795" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$year operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_year&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#43795" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$8: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43803">$year</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43792">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43802">target</a>: <a href="#43792" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$year&quot;)" class="string">&quot;$year&quot;</span>, <a href="#43802" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $month
 *
 * Extracts the month (1-12) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMonthDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10059">ProjectMonthDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23488">$month</a><span class="delimiter">(</span><a title="String" id="43810">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43810" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$month operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_month&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#43810" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$9: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43818">$month</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23491">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43817">target</a>: <a href="#23491" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$month&quot;)" class="string">&quot;$month&quot;</span>, <a href="#43817" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $week
 *
 * Extracts the day of Week from a BSON date
 *  value: 0-53, if a day falls before the first sunday of year, in week 0
 *  Same value as strftime(&quot;%U&quot;) yields in unix stdlib
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectWeekDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10060">ProjectWeekDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23493">$week</a><span class="delimiter">(</span><a title="String" id="43825">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43825" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$week operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_week&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#43825" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$10: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43833">$week</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23496">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43832">target</a>: <a href="#23496" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$week&quot;)" class="string">&quot;$week&quot;</span>, <a href="#43832" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $hour
 *
 * Extracts the hour (0-23) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectHourDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10061">ProjectHourDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23498">$hour</a><span class="delimiter">(</span><a title="String" id="43840">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43840" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$hour operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_hour&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#43840" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$11: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43848">$hour</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23501">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43847">target</a>: <a href="#23501" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$hour&quot;)" class="string">&quot;$hour&quot;</span>, <a href="#43847" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $minute
 *
 * Extracts the minute (0-59) from a BSON date
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectMinuteDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10062">ProjectMinuteDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23503">$minute</a><span class="delimiter">(</span><a title="String" id="43855">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43855" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$minute operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_minute&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#43855" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$12: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43863">$minute</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23506">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43862">target</a>: <a href="#23506" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minute&quot;)" class="string">&quot;$minute&quot;</span>, <a href="#43862" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $second
 *
 * Extracts the second  from a BSON date
 *  value: 0-59 *but*, can be 60 in the case of a leap second
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectSecondDateOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10063">ProjectSecondDateOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(target: String)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23508">$second</a><span class="delimiter">(</span><a title="String" id="43870">target</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#43870" title="String">target</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <span class="string">&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. &quot;</span> <span title="java.lang.String(&quot;The $project.$second operator only accepts a $&lt;fieldName&gt; argument or a raw date; bare field names will not function. See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;)">+</span>
    		<span class="string">&quot;See http://docs.mongodb.org/manual/reference/aggregation/#_S_second&quot;</span><span class="delimiter">)</span>
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#43870" title="String">target</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](target: T)(implicit evidence$13: com.mongodb.casbah.query.Imports.ValidDateType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43878">$second</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23511">T</a>: ValidDateType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43877">target</a>: <a href="#23511" title="T">T</a><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$second&quot;)" class="string">&quot;$second&quot;</span>, <a href="#43877" title="T">target</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="comment">/*** CONDITIONAL EXPRESSIONS */</span>

<span class="comment">/**
 * $cond
 *
 * takes three expressions
 * evaluates first expression to boolean
 *  if first evals true, evaluates &amp; returns second
 *  if first evals false, evaluates &amp; returns third
 *
 * TODO - Better type limiting?
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectCondConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10064">ProjectCondConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](condition: T, ifTrue: Any, elseIfFalse: Any)(implicit evidence$14: com.mongodb.casbah.query.Imports.ValidBarewordExpressionArgType[T])com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="43888">$cond</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23515">T</a>: ValidBarewordExpressionArgType<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="43885">condition</a>: <a href="#23515" title="T">T</a>, <a title="Any" id="43886">ifTrue</a>: <span title="Any">Any</span>, <a title="Any" id="43887">elseIfFalse</a>: <span title="Any">Any</span><span class="delimiter">)</span> =
    <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$cond&quot;)" class="string">&quot;$cond&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43885" title="T">condition</a>, <a href="#43886" title="Any">ifTrue</a>, <a href="#43887" title="Any">elseIfFalse</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * $ifNull
 *
 * Takes array w/ two expressions
 *  if first evals non-null, returns it
 *  else, returns evaluation of second expression
 *
 *  TODO - Better type limiting
 */</span>
<span class="keyword">trait</span> <a title="trait ProjectIfNullConditionalOperator extends java.lang.Object with com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator with ScalaObject" id="10065">ProjectIfNullConditionalOperator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10036" title="com.mongodb.casbah.query.dsl.aggregation.ProjectSubOperator">ProjectSubOperator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(expression: Any, replacementIfNull: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject" id="23517">$ifNull</a><span class="delimiter">(</span><a title="Any" id="43900">expression</a>: <span title="Any">Any</span>, <a title="Any" id="43901">replacementIfNull</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#23422" title="(oper: String, target: Any)com.mongodb.casbah.query.Imports.DBObject with com.mongodb.casbah.query.dsl.aggregation.ProjectSubExpressionObject">projectionOp</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$ifNull&quot;)" class="string">&quot;$ifNull&quot;</span>, <a href="Implicits.scala.html#9964" title="(elems: Any*)com.mongodb.casbah.commons.MongoDBList">MongoDBList</a><span class="delimiter">(</span><a href="#43900" title="Any">expression</a>, <a href="#43901" title="Any">replacementIfNull</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>