<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>MongoCollection.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/**
 * Copyright (c) 2010 10gen, Inc. &lt;http://10gen.com&gt;
 * Copyright (c) 2009, 2010 Novus Partners, Inc. &lt;http://novus.com&gt;
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For questions and comments about this product, please see the project page at:
 *
 *     http://github.com/mongodb/casbah
 *
 */</span>

<span class="keyword">package</span> com.mongodb.casbah

<span class="keyword">import</span> com.mongodb.<span class="delimiter">{</span> DBCursor , DBCollection , DBDecoderFactory, DBEncoderFactory<span class="delimiter">}</span>

<span class="keyword">import</span> com.mongodb.casbah.<a href="Implicits.scala.html#10202" title="object com.mongodb.casbah.Imports">Imports</a>._
<span class="keyword">import</span> com.mongodb.casbah.commons.Logging

<span class="keyword">import</span> com.mongodb.casbah.map_reduce.<span class="delimiter">{</span> MapReduceResult, MapReduceCommand <span class="delimiter">}</span>

<span class="keyword">import</span> scala.util.control.<span title="object scala.util.control.Exception">Exception</span>._

<span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._
<span class="keyword">import</span> collection.mutable.ArrayBuffer

<span class="comment">/**
 * Scala wrapper for Mongo DBCollections,
 * including ones which return custom DBObject subclasses
 * via setObjectClass and the like.
 * Provides any non-parameterized methods and the basic structure.
 * Requires an underlying object of a DBCollection.
 *
 * This is a rewrite of the Casbah 1.0 approach which was rather
 * naive and unecessarily complex.... formerly was MongoCollectionWrapper
 *
 * @version 2.0, 12/23/10
 * @since 1.0
 *
 * @tparam T (DBObject or subclass thereof)
 */</span>
<span class="keyword">trait</span> <a title="trait MongoCollectionBase extends java.lang.Object with com.mongodb.casbah.commons.Logging with ScalaObject" id="10247">MongoCollectionBase</a> <span title="ScalaObject" class="keyword">extends</span> <span title="com.mongodb.casbah.commons.Logging">Logging</span> <span class="delimiter">{</span> self =&gt;
  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: com.mongodb.casbah.Imports.DBObject" id="23280">T</a> &lt;: DBObject
  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: Any" id="23281">CursorType</a>
  <span class="comment">/**
   * The underlying Java Mongo Driver Collection object we proxy.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.DBCollection" id="23282">underlying</a>: <span title="com.mongodb.DBCollection">DBCollection</span>

  <span class="comment">/**
   * If defined, load the customDecoderFactory.
   */</span>
  <a href="#23283" title="=&gt; Option[com.mongodb.DBDecoderFactory]">customDecoderFactory</a>.<span title="(f: com.mongodb.DBDecoderFactory =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="com.mongodb.DBDecoderFactory" id="31284">decoder</a> =&gt;
    <a href="#10247" title="=&gt; com.mongodb.casbah.commons.Logger">log</a>.<span title="(fmt: =&gt; String, arg: Any, argN: Any*)Unit">debug</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Loading Custom DBDecoderFactory \'%s\' into collection (%s)&quot;)" class="string">&quot;Loading Custom DBDecoderFactory '%s' into collection (%s)&quot;</span>, <a href="#31284" title="com.mongodb.DBDecoderFactory">decoder</a>, <a href="#10247" title="com.mongodb.casbah.MongoCollectionBase" class="keyword">this</a><span class="delimiter">)</span>
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBDecoderFactory)Unit">setDBDecoderFactory</span><span class="delimiter">(</span><a href="#31284" title="com.mongodb.DBDecoderFactory">decoder</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Option[com.mongodb.DBDecoderFactory]" id="23283">customDecoderFactory</a>: <span title="Option[com.mongodb.DBDecoderFactory]">Option</span><span class="delimiter">[</span>DBDecoderFactory<span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="keyword">def</span> <a title="=&gt; Option[com.mongodb.DBEncoderFactory]" id="23284">customEncoderFactory</a>: <span title="Option[com.mongodb.DBEncoderFactory]">Option</span><span class="delimiter">[</span>DBEncoderFactory<span class="delimiter">]</span> = <span title="(x: com.mongodb.DBEncoderFactory)Option[com.mongodb.DBEncoderFactory]">Option</span><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.DBEncoderFactory">getDBEncoderFactory</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; MongoCollectionBase.this.CursorType" id="23285">iterator</a> = <a href="#23328" title="()MongoCollectionBase.this.CursorType">find</a>

  <span class="comment">/** Returns the database this collection is a member of.
   * @return this collection's database
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="com.mongodb.casbah.MongoDB" id="23286">db</a> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.DB">getDB</span><a href="Implicits.scala.html#11145" title="implicit com.mongodb.casbah.Implicits.mongoDBAsScala : (db: com.mongodb.DB)java.lang.Object{def asScala: com.mongodb.casbah.MongoDB}" class="delimiter">(</a><span class="delimiter">)</span>.<a href="Implicits.scala.html#24319" title="=&gt; com.mongodb.casbah.MongoDB">asScala</a>

  <span class="comment">/** Adds the &quot;private&quot; fields _id to an object.
   * @param o &lt;code&gt;DBObject&lt;/code&gt; to which to add fields
   * @return the modified parameter object
   */</span>
  <span class="keyword">def</span> <a title="[A](o: A)(implicit evidence$1: A =&gt; com.mongodb.casbah.Imports.DBObject)java.lang.Object" id="32056">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23290">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32055">o</a>: <a href="#23290" title="A">A</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)java.lang.Object">apply</span><span class="delimiter">(</span><a href="#32056" title="(v1: A)com.mongodb.casbah.Imports.DBObject">o</a><span class="delimiter">)</span>

  <span class="comment">/** Adds the &quot;private&quot; fields _id to an object.
   * @param jo object to which to add fields
   * @param ensureID whether to add an &lt;code&gt;_id&lt;/code&gt; field or not
   * @return the modified object &lt;code&gt;o&lt;/code&gt;
   */</span>
  <span class="keyword">def</span> <a title="[A](jo: A, ensureID: Boolean)(implicit evidence$2: A =&gt; com.mongodb.casbah.Imports.DBObject)java.lang.Object" id="32069">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23293">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32067">jo</a>: <a href="#23293" title="A">A</a>, <a title="Boolean" id="32068">ensureID</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: Boolean)java.lang.Object">apply</span><span class="delimiter">(</span><a href="#32069" title="(v1: A)com.mongodb.casbah.Imports.DBObject">jo</a>, <a href="#32068" title="Boolean">ensureID</a><span class="delimiter">)</span>

  <span class="comment">/** Forces creation of an index on a set of fields, if one does not already exist.
   * @param keys an object with a key set of the fields desired for the index
   */</span>
  <span class="keyword">def</span> <a title="[A](keys: A)(implicit evidence$3: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32082">createIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23296">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32081">keys</a>: <a href="#23296" title="A">A</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)Unit">createIndex</span><span class="delimiter">(</span><a href="#32082" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A, B](keys: A, options: B)(implicit evidence$4: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$5: B =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32096">createIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23300">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23301">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32093">keys</a>: <a href="#23300" title="A">A</a>, <a title="B" id="32094">options</a>: <a href="#23301" title="B">B</a><span class="delimiter">)</span> =
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject)Unit">createIndex</span><span class="delimiter">(</span><a href="#32096" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a>, <a href="#32096" title="(v1: B)com.mongodb.casbah.Imports.DBObject">options</a><span class="delimiter">)</span>

  <span class="comment">/**
   * find distinct values for a key
   * @param query query to apply on collection
   */</span>
  <span class="keyword">def</span> <a title="[A](key: String, query: A, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$6: A =&gt; com.mongodb.casbah.Imports.DBObject)scala.collection.mutable.Buffer[_]" id="32116">distinct</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="32121">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="32113">key</a>: <span title="String">String</span>, <a title="A" id="32119">query</a>: <a href="#32121" title="A">A</a> = <a href="Implicits.scala.html#10202" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">empty</span>, <a title="com.mongodb.casbah.Imports.ReadPreference" id="32122">readPrefs</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String, x$2: com.mongodb.DBObject, x$3: com.mongodb.ReadPreference)java.util.List[_]">distinct</span><span title="(l: java.util.List[?0])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[?0]]" class="delimiter">(</span><a href="#32113" title="String">key</a>, <a href="#32116" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a>, <a href="#32122" title="com.mongodb.casbah.Imports.ReadPreference">readPrefs</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Buffer[?0]">asScala</span>

  <span class="comment">/** Drops (deletes) this collection
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="23305">drop</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">drop</span>

  <span class="comment">/** Drops (deletes) this collection
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="23306">dropCollection</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">drop</span>

  <span class="keyword">def</span> <a title="[A](keys: A)(implicit evidence$7: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32162">dropIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23309">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32161">keys</a>: <a href="#23309" title="A">A</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)Unit">dropIndex</span><span class="delimiter">(</span><a href="#32162" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: String)Unit" id="23310">dropIndex</a><span class="delimiter">(</span><a title="String" id="32181">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String)Unit">dropIndex</span><span class="delimiter">(</span><a href="#32181" title="String">name</a><span class="delimiter">)</span>
  <span class="comment">/** Drops all indices from this collection
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="23311">dropIndexes</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">dropIndexes</span>
  <span class="keyword">def</span> <a title="(name: String)Unit" id="23312">dropIndexes</a><span class="delimiter">(</span><a title="String" id="32192">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">dropIndexes</span>

  <span class="comment">/** Creates an index on a set of fields, if one does not already exist.
   * @param keys an object with a key set of the fields desired for the index
   */</span>
  <span class="keyword">def</span> <a title="[A](keys: A)(implicit evidence$8: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32198">ensureIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23315">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32197">keys</a>: <a href="#23315" title="A">A</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)Unit">ensureIndex</span><span class="delimiter">(</span><a href="#32198" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a><span class="delimiter">)</span>
  <span class="comment">/** Ensures an index on this collection (that is, the index will be created if it does not exist).
   * ensureIndex is optimized and is inexpensive if the index already exists.
   * @param keys fields to use for index
   * @param options options for the index (name, unique, etc)
   */</span>
  <span class="keyword">def</span> <a title="[A, B](keys: A, options: B)(implicit evidence$9: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$10: B =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32220">ensureIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23319">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23320">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32217">keys</a>: <a href="#23319" title="A">A</a>, <a title="B" id="32218">options</a>: <a href="#23320" title="B">B</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject)Unit">ensureIndex</span><span class="delimiter">(</span><a href="#32220" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a>, <a href="#32220" title="(v1: B)com.mongodb.casbah.Imports.DBObject">options</a><span class="delimiter">)</span>

  <span class="comment">/** Ensures an index on this collection (that is, the index will be created if it does not exist).
   * ensureIndex is optimized and is inexpensive if the index already exists.
   * @param keys fields to use for index
   * @param name an identifier for the index
   */</span>
  <span class="keyword">def</span> <a title="[A](keys: A, name: String)(implicit evidence$11: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32255">ensureIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23323">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32253">keys</a>: <a href="#23323" title="A">A</a>, <a title="String" id="32254">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: java.lang.String)Unit">ensureIndex</span><span class="delimiter">(</span><a href="#32255" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a>, <a href="#32254" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/** Ensures an optionally unique index on this collection.
   * @param keys fields to use for index
   * @param name an identifier for the index
   * @param unique if the index should be unique
   */</span>
  <span class="keyword">def</span> <a title="[A](keys: A, name: String, unique: Boolean)(implicit evidence$12: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="32529">ensureIndex</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23326">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32526">keys</a>: <a href="#23326" title="A">A</a>, <a title="String" id="32527">name</a>: <span title="String">String</span>, <a title="Boolean" id="32528">unique</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: java.lang.String, x$3: Boolean)Unit">ensureIndex</span><span class="delimiter">(</span><a href="#32529" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a>, <a href="#32527" title="String">name</a>, <a href="#32528" title="Boolean">unique</a><span class="delimiter">)</span>

  <span class="comment">/** Ensures an index on this collection (that is, the index will be created if it does not exist).
   * ensureIndex is optimized and is inexpensive if the index already exists.
   * This creates an ascending index on a particular field.
   * @param name an identifier for the index
   */</span>
  <span class="keyword">def</span> <a title="(fieldName: String)Unit" id="23327">ensureIndex</a><span class="delimiter">(</span><a title="String" id="32542">fieldName</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String)Unit">ensureIndex</span><span class="delimiter">(</span><a href="#32542" title="String">fieldName</a><span class="delimiter">)</span>

  <span class="comment">/** Queries for all objects in this collection.
   * @return a cursor which will iterate over every object
   */</span>
  <span class="keyword">def</span> <a title="()MongoCollectionBase.this.CursorType" id="23328">find</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23486" title="(cursor: com.mongodb.DBCursor)MongoCollectionBase.this.CursorType">_newCursor</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.DBCursor">find</span><span class="delimiter">)</span>

  <span class="comment">/** Queries for an object in this collection.
   * @param ref object for which to search
   * @return an iterator over the results
   */</span>
  <span class="keyword">def</span> <a title="[A](ref: A)(implicit evidence$13: A =&gt; com.mongodb.casbah.Imports.DBObject)MongoCollectionBase.this.CursorType" id="31966">find</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23331">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="31965">ref</a>: <a href="#23331" title="A">A</a><span class="delimiter">)</span> = <a href="#23486" title="(cursor: com.mongodb.DBCursor)MongoCollectionBase.this.CursorType">_newCursor</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)com.mongodb.DBCursor">find</span><span class="delimiter">(</span><a href="#31966" title="(v1: A)com.mongodb.casbah.Imports.DBObject">ref</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Queries for an object in this collection.
   *
   * &lt;p&gt;
   * An empty DBObject will match every document in the collection.
   * Regardless of fields specified, the _id fields are always returned.
   * &lt;/p&gt;
   * &lt;p&gt;
   * An example that returns the &quot;x&quot; and &quot;_id&quot; fields for every document
   * in the collection that has an &quot;x&quot; field:
   * &lt;/p&gt;
   * &lt;blockquote&gt;&lt;pre&gt;
   * BasicDBObject keys = new BasicDBObject();
   * keys.put(&quot;x&quot;, 1);
   *
   * DBCursor cursor = collection.find(new BasicDBObject(), keys);
   * &lt;/pre&gt;&lt;/blockquote&gt;
   *
   * @param ref object for which to search
   * @param keys fields to return
   * @return a cursor to iterate over results
   */</span>
  <span class="keyword">def</span> <a title="[A, B](ref: A, keys: B)(implicit evidence$14: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$15: B =&gt; com.mongodb.casbah.Imports.DBObject)MongoCollectionBase.this.CursorType" id="31948">find</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23335">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23336">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="31945">ref</a>: <a href="#23335" title="A">A</a>, <a title="B" id="31946">keys</a>: <a href="#23336" title="B">B</a><span class="delimiter">)</span> = <a href="#23486" title="(cursor: com.mongodb.DBCursor)MongoCollectionBase.this.CursorType">_newCursor</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject)com.mongodb.DBCursor">find</span><span class="delimiter">(</span><a href="#31948" title="(v1: A)com.mongodb.casbah.Imports.DBObject">ref</a>, <a href="#31948" title="(v1: B)com.mongodb.casbah.Imports.DBObject">keys</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Finds an object.
   * @param ref query used to search
   * @param fields the fields of matching objects to return
   * @param numToSkip will not return the first &lt;tt&gt;numToSkip&lt;/tt&gt; matches
   * @param batchSize if positive, is the # of objects per batch sent back from the db.  all objects that match will be returned.  if batchSize &lt; 0, its a hard limit, and only 1 batch will either batchSize or the # that fit in a batch
   * @param options - see Bytes QUERYOPTION_*
   * @return the objects, if found
   */</span>
  <span class="keyword">def</span> <a title="[A, B](ref: A, fields: B, numToSkip: Int, batchSize: Int)(implicit evidence$16: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$17: B =&gt; com.mongodb.casbah.Imports.DBObject)MongoCollectionBase.this.CursorType" id="31433">find</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23340">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23341">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="31428">ref</a>: <a href="#23340" title="A">A</a>, <a title="B" id="31429">fields</a>: <a href="#23341" title="B">B</a>, <a title="Int" id="31430">numToSkip</a>: <span title="Int">Int</span>, <a title="Int" id="31431">batchSize</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#23486" title="(cursor: com.mongodb.DBCursor)MongoCollectionBase.this.CursorType">_newCursor</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: Int, x$4: Int)com.mongodb.DBCursor">find</span><span class="delimiter">(</span><a href="#31433" title="(v1: A)com.mongodb.casbah.Imports.DBObject">ref</a>, <a href="#31433" title="(v1: B)com.mongodb.casbah.Imports.DBObject">fields</a>, <a href="#31430" title="Int">numToSkip</a>, <a href="#31431" title="Int">batchSize</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a single object from this collection.
   * @return (Option[T]) Some() of the object found, or &lt;code&gt;None&lt;/code&gt; if this collection is empty
   */</span>
  <span class="keyword">def</span> <a title="()Option[MongoCollectionBase.this.T]" id="23342">findOne</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.DBObject">findOne</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a single object from this collection matching the query.
   * @param o the query object
   * @return (Option[T]) Some() of the object found, or &lt;code&gt;None&lt;/code&gt; if no such object exists
   */</span>
  <span class="keyword">def</span> <a title="[A](o: A)(implicit evidence$18: A =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32557">findOne</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23345">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32556">o</a>: <a href="#23345" title="A">A</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)com.mongodb.DBObject">findOne</span><span class="delimiter">(</span><a href="#32557" title="(v1: A)com.mongodb.casbah.Imports.DBObject">o</a>: <span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="comment">/**
   * Returns a single object from this collection matching the query.
   * @param o the query object
   * @param fields fields to return
   * @return (Option[T]) Some() of the object found, or &lt;code&gt;None&lt;/code&gt; if no such object exists
   */</span>
  <span class="keyword">def</span> <a title="[A, B](o: A, fields: B, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$19: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$20: B =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32574">findOne</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="32580">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="32581">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32570">o</a>: <a href="#32580" title="A">A</a>, <a title="B" id="32571">fields</a>: <a href="#32581" title="B">B</a>, <a title="com.mongodb.casbah.Imports.ReadPreference" id="32577">readPrefs</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: com.mongodb.ReadPreference)com.mongodb.DBObject">findOne</span><span class="delimiter">(</span><a href="#32574" title="(v1: A)com.mongodb.casbah.Imports.DBObject">o</a>: <span title="com.mongodb.casbah.Imports.DBObject">DBObject</span>, <a href="#32574" title="(v1: B)com.mongodb.casbah.Imports.DBObject">fields</a>, <a href="#32577" title="com.mongodb.casbah.Imports.ReadPreference">readPrefs</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Find an object by its ID.
   * Finds an object by its id. This compares the passed in
   * value to the _id field of the document.
   *
   * Returns a single object from this collection matching the query.
   * @param id the id to match
   * @return (Option[T]) Some() of the object found, or &lt;code&gt;None&lt;/code&gt; if no such object exists
   */</span>
  <span class="keyword">def</span> <a title="(id: AnyRef)Option[MongoCollectionBase.this.T]" id="23351">findOneByID</a><span class="delimiter">(</span><a title="AnyRef" id="32605">id</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: Any)com.mongodb.DBObject">findOne</span><span class="delimiter">(</span><a href="#32605" title="AnyRef">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Find an object by its ID.
   * Finds an object by its id. This compares the passed in
   * value to the _id field of the document.
   *
   * Returns a single object from this collection matching the query.
   *
   * @param id the id to match
   * @param fields fields to return
   * @return (Option[T]) Some() of the object found, or &lt;code&gt;None&lt;/code&gt; if no such object exists
   */</span>
  <span class="keyword">def</span> <a title="[B](id: AnyRef, fields: B)(implicit evidence$21: B =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32614">findOneByID</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23354">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="AnyRef" id="32612">id</a>: <span title="AnyRef">AnyRef</span>, <a title="B" id="32613">fields</a>: <a href="#23354" title="B">B</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: Any, x$2: com.mongodb.DBObject)com.mongodb.DBObject">findOne</span><span class="delimiter">(</span><a href="#32612" title="AnyRef">id</a>, <a href="#32614" title="(v1: B)com.mongodb.casbah.Imports.DBObject">fields</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Finds the first document in the query (sorted) and updates it.
   * If remove is specified it will be removed. If new is specified then the updated
   * document will be returned, otherwise the old document is returned (or it would be lost forever).
   * You can also specify the fields to return in the document, optionally.
   * @return (Option[T]) of the the found document (before, or after the update)
   */</span>
  <span class="keyword">def</span> <a title="[A, B](query: A, update: B)(implicit evidence$22: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$23: B =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32634">findAndModify</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23358">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23359">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32631">query</a>: <a href="#23358" title="A">A</a>, <a title="B" id="32632">update</a>: <a href="#23359" title="B">B</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject)com.mongodb.DBObject">findAndModify</span><span class="delimiter">(</span><a href="#32634" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a>, <a href="#32634" title="(v1: B)com.mongodb.casbah.Imports.DBObject">update</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Finds the first document in the query (sorted) and updates it.
   * @return the old document
   */</span>
  <span class="keyword">def</span> <a title="[A, B, C](query: A, sort: B, update: C)(implicit evidence$24: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$25: B =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$26: C =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32656">findAndModify</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23364">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23365">B</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23366">C</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32651">query</a>: <a href="#23364" title="A">A</a>, <a title="B" id="32652">sort</a>: <a href="#23365" title="B">B</a>, <a title="C" id="32653">update</a>: <a href="#23366" title="C">C</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: com.mongodb.DBObject)com.mongodb.DBObject">findAndModify</span><span class="delimiter">(</span><a href="#32656" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a>, <a href="#32656" title="(v1: B)com.mongodb.casbah.Imports.DBObject">sort</a>, <a href="#32656" title="(v1: C)com.mongodb.casbah.Imports.DBObject">update</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Finds the first document in the query and updates it.
   * @return the old document
   */</span>
  <span class="keyword">def</span> <a title="[A, B, C, D](query: A, fields: B, sort: C, remove: Boolean, update: D, returnNew: Boolean, upsert: Boolean)(implicit evidence$27: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$28: B =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$29: C =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$30: D =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32689">findAndModify</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23372">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23373">B</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23374">C</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23375">D</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32679">query</a>: <a href="#23372" title="A">A</a>, <a title="B" id="32680">fields</a>: <a href="#23373" title="B">B</a>, <a title="C" id="32681">sort</a>: <a href="#23374" title="C">C</a>,
    <a title="Boolean" id="32682">remove</a>: <span title="Boolean">Boolean</span>, <a title="D" id="32683">update</a>: <a href="#23375" title="D">D</a>,
    <a title="Boolean" id="32684">returnNew</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="32685">upsert</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: com.mongodb.DBObject, x$4: Boolean, x$5: com.mongodb.DBObject, x$6: Boolean, x$7: Boolean)com.mongodb.DBObject">findAndModify</span><span class="delimiter">(</span><a href="#32689" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a>, <a href="#32689" title="(v1: B)com.mongodb.casbah.Imports.DBObject">fields</a>, <a href="#32689" title="(v1: C)com.mongodb.casbah.Imports.DBObject">sort</a>, <a href="#32682" title="Boolean">remove</a>, <a href="#32689" title="(v1: D)com.mongodb.casbah.Imports.DBObject">update</a>, <a href="#32684" title="Boolean">returnNew</a>, <a href="#32685" title="Boolean">upsert</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Finds the first document in the query and removes it.
   * @return the removed document
   */</span>
  <span class="keyword">def</span> <a title="[A](query: A)(implicit evidence$31: A =&gt; com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="32722">findAndRemove</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23378">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32721">query</a>: <a href="#23378" title="A">A</a><span class="delimiter">)</span> =
    <a href="#23488" title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]">_typedValue</a><span class="delimiter">(</span><a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject)com.mongodb.DBObject">findAndRemove</span><span class="delimiter">(</span><a href="#32722" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * write concern aware write op block.
   *
   * Checks getLastError after the last write.
   * If  you run multiple ops you'll only get the final
   * error.
   *
   * Your op function gets a copy of this MongoDB instance.
   *
   * This is for write ops only - you cannot return data from it.
   *
   * Your function must return WriteResult, which is the
   * return type of any mongo write operation like insert/save/update/remove
   *
   * If you have set a connection or DB level WriteConcern,
   * it will be inherited.
   *
   * @throws MongoException
   */</span>
  <span class="keyword">def</span> <a title="(op: MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult)Unit" id="23379">request</a><span class="delimiter">(</span><a title="MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult" id="32731">op</a>: <span class="keyword">this</span>.<span class="keyword">type</span> =&gt; WriteResult<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#32731" title="(v1: MongoCollectionBase.this.type)com.mongodb.casbah.Imports.WriteResult">op</a><span class="delimiter">(</span><a href="#10247" title="MongoCollectionBase.this.type" class="keyword">this</a><span class="delimiter">)</span>.<span title="()com.mongodb.CommandResult">getLastError</span>.<span title="()Unit">throwOnError</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * write concern aware write op block.
   *
   * Checks getLastError after the last write.
   * If  you run multiple ops you'll only get the final
   * error.
   *
   * Your op function gets a copy of this MongoDB instance.
   *
   * This is for write ops only - you cannot return data from it.
   *
   * Your function must return WriteResult, which is the
   * return type of any mongo write operation like insert/save/update/remove
   *
   * @throws MongoException
   */</span>
  <span class="keyword">def</span> <a title="(w: Int, wTimeout: Int, fsync: Boolean)(op: MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult)Unit" id="23380">request</a><span class="delimiter">(</span><a title="Int" id="32737">w</a>: <span title="Int">Int</span>, <a title="Int" id="32743">wTimeout</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>, <a title="Boolean" id="32744">fsync</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult" id="32740">op</a>: <span class="keyword">this</span>.<span class="keyword">type</span> =&gt; WriteResult<span class="delimiter">)</span> =
    <a href="#32740" title="(v1: MongoCollectionBase.this.type)com.mongodb.casbah.Imports.WriteResult">op</a><span class="delimiter">(</span><a href="#10247" title="MongoCollectionBase.this.type" class="keyword">this</a><span class="delimiter">)</span>.<span title="(x$1: com.mongodb.WriteConcern)com.mongodb.CommandResult">getLastError</span><span class="delimiter">(</span><a href="WriteConcern.scala.html#28974" title="(w: Int, wTimeout: Int, fsync: Boolean, j: Boolean, continueInsertOnError: Boolean)com.mongodb.WriteConcern">WriteConcern</a><span class="delimiter">(</span><a href="#32737" title="Int">w</a>, <a href="#32743" title="Int">wTimeout</a>, <a href="#32744" title="Boolean">fsync</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()Unit">throwOnError</span>

  <span class="comment">/**
   * write concern aware write op block.
   *
   * Checks getLastError after the last write.
   * If  you run multiple ops you'll only get the final
   * error.
   *
   * Your op function gets a copy of this MongoDB instance.
   *
   * This is for write ops only - you cannot return data from it.
   *
   * Your function must return WriteResult, which is the
   * return type of any mongo write operation like insert/save/update/remove
   *
   * @throws MongoException
   */</span>
  <span class="keyword">def</span> <a title="(writeConcern: com.mongodb.casbah.Imports.WriteConcern)(op: MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult)Unit" id="23381">request</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.WriteConcern" id="32881">writeConcern</a>: <span title="com.mongodb.casbah.Imports.WriteConcern">WriteConcern</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="MongoCollectionBase.this.type =&gt; com.mongodb.casbah.Imports.WriteResult" id="32882">op</a>: <span class="keyword">this</span>.<span class="keyword">type</span> =&gt; WriteResult<span class="delimiter">)</span> =
    <a href="#32882" title="(v1: MongoCollectionBase.this.type)com.mongodb.casbah.Imports.WriteResult">op</a><span class="delimiter">(</span><a href="#10247" title="MongoCollectionBase.this.type" class="keyword">this</a><span class="delimiter">)</span>.<span title="(x$1: com.mongodb.WriteConcern)com.mongodb.CommandResult">getLastError</span><span class="delimiter">(</span><a href="#32881" title="com.mongodb.casbah.Imports.WriteConcern">writeConcern</a><span class="delimiter">)</span>.<span title="()Unit">throwOnError</span>

  <span class="comment">/** Find a collection that is prefixed with this collection's name.
   * A typical use of this might be
   * &lt;blockquote&gt;&lt;pre&gt;
   *    DBCollection users = mongo.getCollection( &quot;wiki&quot; ).getCollection( &quot;users&quot; );
   * &lt;/pre&gt;&lt;/blockquote&gt;
   * Which is equilalent to
   * &lt;pre&gt;&lt;blockquote&gt;
   *   DBCollection users = mongo.getCollection( &quot;wiki.users&quot; );
   * &lt;/pre&gt;&lt;/blockquote&gt;
   * @param n the name of the collection to find
   * @return the matching collection
   *
   * TODO - Make this support type construction
   */</span>
  <span class="keyword">def</span> <a title="(n: String)com.mongodb.casbah.MongoCollection" id="23382">getCollection</a><span class="delimiter">(</span><a title="String" id="32888">n</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String)com.mongodb.DBCollection">getCollection</span><a href="Implicits.scala.html#11146" title="implicit com.mongodb.casbah.Implicits.mongoCollAsScala : (coll: com.mongodb.DBCollection)java.lang.Object{def asScala: com.mongodb.casbah.MongoCollection; def asScalaTyped[A &lt;: com.mongodb.DBObject](implicit m: scala.reflect.Manifest[A]): com.mongodb.casbah.MongoGenericTypedCollection[A]}" class="delimiter">(</a><a href="#32888" title="String">n</a><span class="delimiter">)</span>.<a href="Implicits.scala.html#24120" title="=&gt; com.mongodb.casbah.MongoCollection">asScala</a>

  <span class="comment">/** Find a collection that is prefixed with this collection's name.
   * A typical use of this might be
   * &lt;blockquote&gt;&lt;pre&gt;
   *    DBCollection users = mongo.getCollection( &quot;wiki&quot; ).getCollection( &quot;users&quot; );
   * &lt;/pre&gt;&lt;/blockquote&gt;
   * Which is equilalent to
   * &lt;pre&gt;&lt;blockquote&gt;
   *   DBCollection users = mongo.getCollection( &quot;wiki.users&quot; );
   * &lt;/pre&gt;&lt;/blockquote&gt;
   * @param n the name of the collection to find
   * @return the matching collection
   *
   * TODO - Make this support type construction
   */</span>
  <span class="keyword">def</span> <a title="(n: String)com.mongodb.casbah.MongoCollection" id="23383">collection</a><span class="delimiter">(</span><a title="String" id="32891">n</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String)com.mongodb.DBCollection">getCollection</span><a href="Implicits.scala.html#11146" title="implicit com.mongodb.casbah.Implicits.mongoCollAsScala : (coll: com.mongodb.DBCollection)java.lang.Object{def asScala: com.mongodb.casbah.MongoCollection; def asScalaTyped[A &lt;: com.mongodb.DBObject](implicit m: scala.reflect.Manifest[A]): com.mongodb.casbah.MongoGenericTypedCollection[A]}" class="delimiter">(</a><a href="#32891" title="String">n</a><span class="delimiter">)</span>.<a href="Implicits.scala.html#24120" title="=&gt; com.mongodb.casbah.MongoCollection">asScala</a>

  <span class="comment">/**
   *  Returns the number of documents in the collection
   *  that match the specified query
   *
   *  @param query query to select documents to count
   *  @param fields fields to return
   *  @param limit Max # of fields
   *  @param skip # of fields to skip
   *  @return number of documents that match query and fields
   */</span>
  <span class="keyword">def</span> <a title="[A, B](query: A, fields: B, limit: Long, skip: Long, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$32: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$33: B =&gt; com.mongodb.casbah.Imports.DBObject)Long" id="32900">getCount</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="32906">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="32907">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="32903">query</a>: <a href="#32906" title="A">A</a> = <a href="Implicits.scala.html#10202" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">empty</span>, <a title="B" id="32908">fields</a>: <a href="#32907" title="B">B</a> = <a href="Implicits.scala.html#10202" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">empty</span>,
                                             <a title="Long" id="32913">limit</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>,  <a title="Long" id="32918">skip</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>, <a title="com.mongodb.casbah.Imports.ReadPreference" id="32923">readPrefs</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a><span class="delimiter">)</span> =
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: Long, x$4: Long, x$5: com.mongodb.ReadPreference)Long">getCount</span><span class="delimiter">(</span><a href="#32900" title="(v1: A)com.mongodb.casbah.Imports.DBObject">query</a>, <a href="#32900" title="(v1: B)com.mongodb.casbah.Imports.DBObject">fields</a>, <a href="#32913" title="Long">limit</a>, <a href="#32918" title="Long">skip</a>, <a href="#32923" title="com.mongodb.casbah.Imports.ReadPreference">readPrefs</a><span class="delimiter">)</span>

  <span class="comment">/** Returns the database this collection is a member of.
   * @return this collection's database
   */</span>
  <span class="keyword">def</span> <a title="()com.mongodb.casbah.MongoDB" id="23389">getDB</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.DB">getDB</span><a href="Implicits.scala.html#11145" title="implicit com.mongodb.casbah.Implicits.mongoDBAsScala : (db: com.mongodb.DB)java.lang.Object{def asScala: com.mongodb.casbah.MongoDB}" class="delimiter">(</a><span class="delimiter">)</span>.<a href="Implicits.scala.html#24319" title="=&gt; com.mongodb.casbah.MongoDB">asScala</a>

  <span class="comment">/** Returns the full name of this collection, with the database name as a prefix.
   * @return  the name of this collection
   */</span>
  <span class="keyword">def</span> <a title="()java.lang.String" id="23390">getFullName</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()java.lang.String">getFullName</span>

  <span class="comment">/** Returns the full name of this collection, with the database name as a prefix.
   * @return  the name of this collection
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="23391">fullName</a> = <a href="#23390" title="()java.lang.String">getFullName</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   *   Return a list of the indexes for this collection.  Each object
   *   in the list is the &quot;info document&quot; from MongoDB
   *
   *   @return list of index documents
   */</span>
  <span class="keyword">def</span> <a title="()scala.collection.mutable.Buffer[com.mongodb.DBObject]" id="23392">getIndexInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(l: java.util.List[com.mongodb.DBObject])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[com.mongodb.DBObject]]">getIndexInfo</span>.<span title="=&gt; scala.collection.mutable.Buffer[com.mongodb.DBObject]">asScala</span>

  <span class="comment">/**
   *   Return a list of the indexes for this collection.  Each object
   *   in the list is the &quot;info document&quot; from MongoDB
   *
   *   @return list of index documents
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.Buffer[com.mongodb.DBObject]" id="23393">indexInfo</a> = <a href="#23392" title="()scala.collection.mutable.Buffer[com.mongodb.DBObject]">getIndexInfo</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()java.lang.String" id="23394">getName</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()java.lang.String">getName</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="23395">name</a> = <a href="#23394" title="()java.lang.String">getName</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the default class for objects in the collection
   * @return the class
   */</span>
  <span class="keyword">def</span> <a title="()java.lang.Class[_]" id="23396">getObjectClass</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()java.lang.Class[_]">getObjectClass</span>

  <span class="comment">/** Gets the default class for objects in the collection
   * @return the class
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.Class[_]" id="23397">objectClass</a> = <a href="#23396" title="()java.lang.Class[_]">getObjectClass</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * setObjectClass
   *
   * Set a subtype of DBObject which will be used
   * to deserialize documents returned from MongoDB.
   *
   * This method will return a new &lt;code&gt;MongoTypedCollection[A]&lt;/code&gt;
   * which you should capture if you want explicit casting.
   * Else, this collection will instantiate instances of A but cast them to
   * the current &lt;code&gt;T&lt;/code&gt; (DBObject if you have a generic collection)
   *
   * @param  c (Class[A])
   * @tparam A A Subtype of DBObject
   *
   * TODO - Ensure proper subtype return
   */</span>
  <span class="keyword">def</span> <a title="[A &lt;: com.mongodb.casbah.Imports.DBObject](c: Class[A])(implicit evidence$34: Manifest[A])com.mongodb.casbah.MongoGenericTypedCollection[A]" id="32989">setObjectClass</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: com.mongodb.casbah.Imports.DBObject" id="23400">A</a> &lt;: DBObject: Manifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[A]" id="32988">c</a>: <span title="Class[A]">Class</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.Class[_])Unit">setObjectClass</span><span class="delimiter">(</span><a href="#32988" title="Class[A]">c</a><span class="delimiter">)</span>
    <span title="com.mongodb.casbah.MongoGenericTypedCollection[A]" class="keyword">new</span> <a href="#10250" title="com.mongodb.casbah.MongoGenericTypedCollection[A]">MongoGenericTypedCollection</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span>underlying = <a href="#10247" title="MongoCollectionBase.this.type">self</a>.<a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * setObjectClass
   *
   * Set a subtype of DBObject which will be used
   * to deserialize documents returned from MongoDB.
   *
   * This method will return a new &lt;code&gt;MongoTypedCollection[A]&lt;/code&gt;
   * which you should capture if you want explicit casting.
   * Else, this collection will instantiate instances of A but cast them to
   * the current &lt;code&gt;T&lt;/code&gt; (DBObject if you have a generic collection)
   *
   * @param  c (Class[A])
   * @tparam A A Subtype of DBObject
   *
   */</span>
  <span class="keyword">def</span> <a title="[A &lt;: com.mongodb.casbah.Imports.DBObject](c: Class[A])(implicit evidence$35: Manifest[A])com.mongodb.casbah.MongoGenericTypedCollection[A]" id="32999">objectClass_=</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: com.mongodb.casbah.Imports.DBObject" id="23403">A</a> &lt;: DBObject: Manifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[A]" id="32998">c</a>: <span title="Class[A]">Class</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#32989" title="(c: Class[A])(implicit evidence$34: Manifest[A])com.mongodb.casbah.MongoGenericTypedCollection[A]">setObjectClass</a><a href="#32999" title="Manifest[A]" class="delimiter">(</a><a href="#32998" title="Class[A]">c</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; com.mongodb.CommandResult" id="23404">stats</a> = <a href="#23405" title="()com.mongodb.CommandResult">getStats</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()com.mongodb.CommandResult" id="23405">getStats</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.CommandResult">getStats</span><span class="delimiter">(</span><span class="delimiter">)</span>


  <span class="comment">/**
   * Enables you to call group with the finalize parameter (a function that runs on each
   * row of the output for calculations before sending a return) which the Mongo Java driver does not yet
   * support, by sending a direct DBObject command.  Messy, but it works.
   */</span>
  <span class="keyword">def</span> <a title="[A, B, C](key: A, cond: B, initial: C, reduce: String, finalize: String, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$36: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$37: B =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$38: C =&gt; com.mongodb.casbah.Imports.DBObject)Iterable[MongoCollectionBase.this.T]" id="33038">group</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33044">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="33045">B</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="33046">C</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="33030">key</a>: <a href="#33044" title="A">A</a>, <a title="B" id="33031">cond</a>: <a href="#33045" title="B">B</a>, <a title="C" id="33032">initial</a>: <a href="#33046" title="C">C</a>,
                                                         <a title="String" id="33033">reduce</a>: <span title="String">String</span>, <a title="String" id="33040">finalize</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>,
                                                         <a title="com.mongodb.casbah.Imports.ReadPreference" id="33047">readPrefs</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a><span class="delimiter">)</span>: <span title="Iterable[MongoCollectionBase.this.T]">Iterable</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: com.mongodb.DBObject, x$4: java.lang.String, x$5: java.lang.String, x$6: com.mongodb.ReadPreference)com.mongodb.DBObject">group</span><a href="Implicits.scala.html#10202" title="implicit com.mongodb.casbah.commons.Implicits.wrapDBObj : (in: com.mongodb.DBObject)com.mongodb.casbah.commons.MongoDBObject" class="delimiter">(</a><a href="#33038" title="(v1: A)com.mongodb.casbah.Imports.DBObject">key</a>,<a href="#33038" title="(v1: B)com.mongodb.casbah.Imports.DBObject">cond</a>, <a href="#33038" title="(v1: C)com.mongodb.casbah.Imports.DBObject">initial</a>, <a href="#33033" title="String">reduce</a>, <a href="#33040" title="String">finalize</a>, <a href="#33047" title="com.mongodb.casbah.Imports.ReadPreference">readPrefs</a><span class="delimiter">)</span>.<span title="(f: ((String, AnyRef)) =&gt; MongoCollectionBase.this.T)(implicit bf: scala.collection.generic.CanBuildFrom[com.mongodb.casbah.commons.MongoDBObject,MongoCollectionBase.this.T,Iterable[MongoCollectionBase.this.T]])Iterable[MongoCollectionBase.this.T]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Iterable.Coll,MongoCollectionBase.this.T,scala.collection.mutable.Iterable[MongoCollectionBase.this.T]]" class="delimiter">(</span><a href="#33379" title="(String, AnyRef)">_</a>.<span title="=&gt; AnyRef">_2</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MongoCollectionBase.this.T" class="delimiter">[</span><a href="#23280" title="MongoCollectionBase.this.T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Saves document(s) to the database.
   * if doc doesn't have an _id, one will be added
   * you can get the _id that was added from doc after the insert
   *
   * @param arr  array of documents (&lt;% DBObject) to save
   * TODO - Wrapper for WriteResult?
   */</span>
   <span class="keyword">def</span> <a title="[A](doc: A, concern: com.mongodb.WriteConcern)(implicit dbObjView: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.casbah.Imports.WriteResult" id="23413">insert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23415">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="35242">doc</a>: <a href="#23415" title="A">A</a>, <a title="com.mongodb.WriteConcern" id="35243">concern</a>: com.mongodb.<span title="com.mongodb.WriteConcern">WriteConcern</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="35244">dbObjView</a>: A =&gt; DBObject<span class="delimiter">)</span>: <span title="com.mongodb.casbah.Imports.WriteResult">WriteResult</span> = <a href="#10247" title="MongoCollectionBase.this.type">insert</a><a href="#35261" title="com.mongodb.casbah.Imports.DBEncoder" id="35308" class="delimiter">(</a><a href="#35242" title="Seq[A]" id="35298">doc</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#35244" title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="35306">dbObjView</a>, concern = <a href="#35243" title="com.mongodb.WriteConcern" id="35307">concern</a><span class="delimiter">)</span>
  <span class="comment">/**
   * Saves document(s) to the database.
   * if doc doesn't have an _id, one will be added
   * you can get the _id that was added from doc after the insert
   *
   * @param arr  array of documents (&lt;% DBObject) to save
   * TODO - Wrapper for WriteResult?
   */</span>
  <span class="keyword">def</span> <a title="[A](docs: A*)(implicit dbObjView: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit concern: com.mongodb.WriteConcern, implicit encoder: com.mongodb.casbah.Imports.DBEncoder)com.mongodb.casbah.Imports.WriteResult" id="23416">insert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="35260">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="37515">docs</a>: <span title="A*">A</span>*<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="35254">dbObjView</a>: A =&gt; DBObject, <a title="com.mongodb.WriteConcern" id="35258">concern</a>: com.mongodb.<span title="com.mongodb.WriteConcern">WriteConcern</span> = <a href="#23474" title="=&gt; com.mongodb.WriteConcern">writeConcern</a>, <a title="com.mongodb.casbah.Imports.DBEncoder" id="35261">encoder</a>: <span title="com.mongodb.casbah.Imports.DBEncoder">DBEncoder</span> = <a href="#23284" title="=&gt; Option[com.mongodb.DBEncoderFactory]">customEncoderFactory</a>.<span title="(f: com.mongodb.DBEncoderFactory =&gt; com.mongodb.DBEncoder)Option[com.mongodb.DBEncoder]">map</span><span class="delimiter">(</span><a href="#35319" title="com.mongodb.DBEncoderFactory">_</a>.<span title="()com.mongodb.DBEncoder">create</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,com.mongodb.casbah.Imports.DBEncoder])com.mongodb.casbah.Imports.DBEncoder">orNull</span> <span class="delimiter">)</span>: <span title="com.mongodb.casbah.Imports.WriteResult">WriteResult</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]" id="35328">b</a> = <span title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]" class="keyword">new</span> scala.collection.mutable.ArrayBuilder.<span title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]">ofRef</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span>
    <a href="#35328" title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]">b</a>.<span title="(size: Int)Unit">sizeHint</span><span class="delimiter">(</span><a href="#37515" title="A*">docs</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="35688">x</a> &lt;- <a href="#37515" title="(f: A =&gt; collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject])Unit">docs</a><span class="delimiter">)</span> <a href="#35328" title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]">b</a> <span title="(elem: com.mongodb.casbah.Imports.DBObject)b.type">+=</span> <a href="#35254" title="(v1: A)com.mongodb.casbah.Imports.DBObject">dbObjView</a><span class="delimiter">(</span><a href="#35688" title="A">x</a><span class="delimiter">)</span>
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: Array[com.mongodb.DBObject], x$2: com.mongodb.WriteConcern, x$3: com.mongodb.DBEncoder)com.mongodb.WriteResult">insert</span><span class="delimiter">(</span><a href="#35328" title="collection.mutable.ArrayBuilder.ofRef[com.mongodb.casbah.Imports.DBObject]">b</a>.<span title="()Array[com.mongodb.casbah.Imports.DBObject]">result</span>, <a href="#35258" title="com.mongodb.WriteConcern">concern</a>, <a href="#35261" title="com.mongodb.casbah.Imports.DBEncoder">encoder</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="23419">isCapped</a> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Boolean">isCapped</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * performs an aggregation operation
   *
   * @param args the aggregation pipeline
   *
   * @return The aggregation operation's result set
   *
   */</span>
  <span class="keyword">def</span> <a title="(args: com.mongodb.casbah.Imports.DBObject*)com.mongodb.casbah.AggregationOutput" id="23420">aggregate</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.DBObject*" id="35706">args</a>: <span title="com.mongodb.casbah.Imports.DBObject*">DBObject</span>*<span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: &lt;repeated...&gt;[com.mongodb.DBObject])com.mongodb.AggregationOutput">aggregate</span><a href="Implicits.scala.html#11149" title="implicit com.mongodb.casbah.Implicits.aggregationOutputAsScala : (output: com.mongodb.AggregationOutput)java.lang.Object{def asScala: com.mongodb.casbah.AggregationOutput}" class="delimiter">(</a><a href="#35706" title="com.mongodb.casbah.Imports.DBObject*">args</a>.<span title="=&gt; com.mongodb.casbah.Imports.DBObject">head</span>, <a href="#35706" title="com.mongodb.casbah.Imports.DBObject*">args</a>.<span title="=&gt; Seq[com.mongodb.casbah.Imports.DBObject]">tail</span>.<span title="(f: com.mongodb.casbah.Imports.DBObject =&gt; com.mongodb.casbah.Imports.DBObject)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[com.mongodb.casbah.Imports.DBObject],com.mongodb.casbah.Imports.DBObject,Seq[com.mongodb.casbah.Imports.DBObject]])Seq[com.mongodb.casbah.Imports.DBObject]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,com.mongodb.casbah.Imports.DBObject,Seq[com.mongodb.casbah.Imports.DBObject]]" class="delimiter">(</span><a href="#35746" title="com.mongodb.casbah.Imports.DBObject">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="com.mongodb.casbah.Imports.DBObject" class="delimiter">[</span><span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">]</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>.<a href="Implicits.scala.html#22635" title="=&gt; com.mongodb.casbah.AggregationOutput">asScala</a>

  <span class="comment">/**
   * performs an aggregation operation
   *
   * @param args the aggregation pipeline
   *
   * @return The aggregation operation's result set
   *
   */</span>
  <span class="keyword">def</span> <a title="[A](args: Iterable[A])(implicit evidence$39: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.casbah.AggregationOutput" id="36246">aggregate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23423">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterable[A]" id="36245">args</a>: <span title="Iterable[A]">Iterable</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: &lt;repeated...&gt;[com.mongodb.DBObject])com.mongodb.AggregationOutput">aggregate</span><a href="Implicits.scala.html#11149" title="implicit com.mongodb.casbah.Implicits.aggregationOutputAsScala : (output: com.mongodb.AggregationOutput)java.lang.Object{def asScala: com.mongodb.casbah.AggregationOutput}" class="delimiter">(</a><a href="#36245" title="Iterable[A]">args</a>.<a href="#36246" title="(v1: A)com.mongodb.casbah.Imports.DBObject">head</a>, <a href="#36245" title="Iterable[A]">args</a>.<span title="=&gt; Iterable[A]">tail</span>.<span title="=&gt; Seq[A]">toSeq</span>.<span title="(f: A =&gt; com.mongodb.casbah.Imports.DBObject)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[A],com.mongodb.casbah.Imports.DBObject,Seq[com.mongodb.casbah.Imports.DBObject]])Seq[com.mongodb.casbah.Imports.DBObject]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,com.mongodb.casbah.Imports.DBObject,Seq[com.mongodb.casbah.Imports.DBObject]]" class="delimiter">(</span><a href="#36296" title="A">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="com.mongodb.casbah.Imports.DBObject" class="delimiter">[</span><span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">]</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>.<a href="Implicits.scala.html#22635" title="=&gt; com.mongodb.casbah.AggregationOutput">asScala</a>

  <span class="comment">/**
   * mapReduce
   * Execute a mapReduce against this collection.
   * NOTE: JSFunction is just a type alias for String
   *
   * @param  mapFunction (JSFunction) The JavaScript to execute for the map function
   * @param  reduceFunction (JSFunction) The JavaScript to execute for the reduce function
   *
   */</span>
  <span class="keyword">def</span> <a title="(mapFunction: com.mongodb.casbah.Imports.JSFunction, reduceFunction: com.mongodb.casbah.Imports.JSFunction, output: com.mongodb.casbah.Imports.MapReduceOutputTarget, query: Option[com.mongodb.casbah.Imports.DBObject], sort: Option[com.mongodb.casbah.Imports.DBObject], limit: Option[Int], finalizeFunction: Option[com.mongodb.casbah.Imports.JSFunction], jsScope: Option[com.mongodb.casbah.Imports.DBObject], verbose: Boolean)com.mongodb.casbah.map_reduce.MapReduceResult" id="23424">mapReduce</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.JSFunction" id="36318">mapFunction</a>: <span title="com.mongodb.casbah.Imports.JSFunction">JSFunction</span>,
    <a title="com.mongodb.casbah.Imports.JSFunction" id="36319">reduceFunction</a>: <span title="com.mongodb.casbah.Imports.JSFunction">JSFunction</span>,
    <a title="com.mongodb.casbah.Imports.MapReduceOutputTarget" id="36320">output</a>: <a href="MapReduceCommand.scala.html#10336" title="com.mongodb.casbah.Imports.MapReduceOutputTarget">MapReduceOutputTarget</a>,
    <a title="Option[com.mongodb.casbah.Imports.DBObject]" id="36328">query</a>: <span title="Option[com.mongodb.casbah.Imports.DBObject]">Option</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span> = <span title="object None">None</span>,
    <a title="Option[com.mongodb.casbah.Imports.DBObject]" id="36329">sort</a>: <span title="Option[com.mongodb.casbah.Imports.DBObject]">Option</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span> = <span title="object None">None</span>,
    <a title="Option[Int]" id="36330">limit</a>: <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span title="object None">None</span>,
    <a title="Option[com.mongodb.casbah.Imports.JSFunction]" id="36331">finalizeFunction</a>: <span title="Option[com.mongodb.casbah.Imports.JSFunction]">Option</span><span class="delimiter">[</span>JSFunction<span class="delimiter">]</span> = <span title="object None">None</span>,
    <a title="Option[com.mongodb.casbah.Imports.DBObject]" id="36332">jsScope</a>: <span title="Option[com.mongodb.casbah.Imports.DBObject]">Option</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span> = <span title="object None">None</span>,
    <a title="Boolean" id="36333">verbose</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: map_reduce.<a href="MapReduceResult.scala.html#10359" title="com.mongodb.casbah.map_reduce.MapReduceResult">MapReduceResult</a> =
      map_reduce.<a href="MapReduceResult.scala.html#36335" title="(resultObj: com.mongodb.casbah.Imports.DBObject)(implicit db: com.mongodb.casbah.Imports.MongoDB)com.mongodb.casbah.map_reduce.MapReduceResult">MapReduceResult</a><a href="#23286" title="=&gt; com.mongodb.casbah.MongoDB" class="delimiter">(</a><a href="#23389" title="()com.mongodb.casbah.MongoDB">getDB</a>.<a href="MongoDB.scala.html#24138" title="(cmd: com.mongodb.casbah.Imports.DBObject)com.mongodb.CommandResult">command</a><span class="delimiter">(</span><a href="MapReduceCommand.scala.html#28992" title="(input: String, map: com.mongodb.casbah.Imports.JSFunction, reduce: com.mongodb.casbah.Imports.JSFunction, output: com.mongodb.casbah.map_reduce.MapReduceOutputTarget, query: Option[com.mongodb.casbah.Imports.DBObject], sort: Option[com.mongodb.casbah.Imports.DBObject], limit: Option[Int], finalizeFunction: Option[com.mongodb.casbah.Imports.JSFunction], jsScope: Option[com.mongodb.casbah.Imports.DBObject], verbose: Boolean)com.mongodb.casbah.map_reduce.MapReduceCommand">MapReduceCommand</a><span class="delimiter">(</span><a href="#23395" title="=&gt; java.lang.String">name</a>, <a href="#36318" title="com.mongodb.casbah.Imports.JSFunction">mapFunction</a>, <a href="#36319" title="com.mongodb.casbah.Imports.JSFunction">reduceFunction</a>, <a href="#36320" title="com.mongodb.casbah.Imports.MapReduceOutputTarget">output</a>, <a href="#36328" title="Option[com.mongodb.casbah.Imports.DBObject]">query</a>, <a href="#36329" title="Option[com.mongodb.casbah.Imports.DBObject]">sort</a>, <a href="#36330" title="Option[Int]">limit</a>, <a href="#36331" title="Option[com.mongodb.casbah.Imports.JSFunction]">finalizeFunction</a>, <a href="#36332" title="Option[com.mongodb.casbah.Imports.DBObject]">jsScope</a>, <a href="#36333" title="Boolean">verbose</a><span class="delimiter">)</span>.<a href="MapReduceCommand.scala.html#29434" title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cmd: com.mongodb.casbah.map_reduce.MapReduceCommand)com.mongodb.casbah.map_reduce.MapReduceResult" id="23425">mapReduce</a><span class="delimiter">(</span><a title="com.mongodb.casbah.map_reduce.MapReduceCommand" id="36936">cmd</a>: map_reduce.<a href="MapReduceCommand.scala.html#10350" title="com.mongodb.casbah.map_reduce.MapReduceCommand">MapReduceCommand</a><span class="delimiter">)</span> = map_reduce.<a href="MapReduceResult.scala.html#36335" title="(resultObj: com.mongodb.casbah.Imports.DBObject)(implicit db: com.mongodb.casbah.Imports.MongoDB)com.mongodb.casbah.map_reduce.MapReduceResult">MapReduceResult</a><a href="#23286" title="=&gt; com.mongodb.casbah.MongoDB" class="delimiter">(</a><a href="#23389" title="()com.mongodb.casbah.MongoDB">getDB</a>.<a href="MongoDB.scala.html#24138" title="(cmd: com.mongodb.casbah.Imports.DBObject)com.mongodb.CommandResult">command</a><span class="delimiter">(</span><a href="#36936" title="com.mongodb.casbah.map_reduce.MapReduceCommand">cmd</a>.<a href="MapReduceCommand.scala.html#29434" title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">toDBObject</a><span class="delimiter">)</span><span class="delimiter">)</span>



  <span class="comment">/** Removes objects from the database collection.
   * @param o the object that documents to be removed must match
   * @param concern WriteConcern for this operation
   * TODO - Wrapper for WriteResult?
   */</span>
  <span class="keyword">def</span> <a title="[A](o: A, concern: com.mongodb.WriteConcern)(implicit dbObjView: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit encoder: com.mongodb.casbah.Imports.DBEncoder)com.mongodb.WriteResult" id="23426">remove</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36951">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37392">o</a>: <a href="#36951" title="A">A</a>, <a title="com.mongodb.WriteConcern" id="36949">concern</a>: com.mongodb.<span title="com.mongodb.WriteConcern">WriteConcern</span> = <a href="#23473" title="=&gt; com.mongodb.WriteConcern">getWriteConcern</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="36945">dbObjView</a>: A =&gt; DBObject, <a title="com.mongodb.casbah.Imports.DBEncoder" id="36952">encoder</a>: <span title="com.mongodb.casbah.Imports.DBEncoder">DBEncoder</span> = <a href="#23284" title="=&gt; Option[com.mongodb.DBEncoderFactory]">customEncoderFactory</a>.<span title="(f: com.mongodb.DBEncoderFactory =&gt; com.mongodb.DBEncoder)Option[com.mongodb.DBEncoder]">map</span><span class="delimiter">(</span><a href="#36965" title="com.mongodb.DBEncoderFactory">_</a>.<span title="()com.mongodb.DBEncoder">create</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,com.mongodb.casbah.Imports.DBEncoder])com.mongodb.casbah.Imports.DBEncoder">orNull</span> <span class="delimiter">)</span> =
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.WriteConcern, x$3: com.mongodb.DBEncoder)com.mongodb.WriteResult">remove</span><span class="delimiter">(</span><a href="#36945" title="(v1: A)com.mongodb.casbah.Imports.DBObject">dbObjView</a><span class="delimiter">(</span><a href="#37392" title="A">o</a><span class="delimiter">)</span>, <a href="#36949" title="com.mongodb.WriteConcern">concern</a>, <a href="#36952" title="com.mongodb.casbah.Imports.DBEncoder">encoder</a><span class="delimiter">)</span>

  <span class="comment">/** Clears all indices that have not yet been applied to this collection. */</span>
  <span class="keyword">def</span> <a title="()Unit" id="23429">resetIndexCache</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">resetIndexCache</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Saves an object to this collection.
   * @param o the &lt;code&gt;DBObject&lt;/code&gt; to save
   *        will add &lt;code&gt;_id&lt;/code&gt; field to o if needed
   * TODO - Wrapper for WriteResult?
   */</span>
  <span class="keyword">def</span> <a title="[A](o: A, concern: com.mongodb.WriteConcern)(implicit dbObjView: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.WriteResult" id="23430">save</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="36981">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="36974">o</a>: <a href="#36981" title="A">A</a>, <a title="com.mongodb.WriteConcern" id="36979">concern</a>: com.mongodb.<span title="com.mongodb.WriteConcern">WriteConcern</span> = <a href="#23473" title="=&gt; com.mongodb.WriteConcern">getWriteConcern</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="36976">dbObjView</a>: A =&gt; DBObject<span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.WriteConcern)com.mongodb.WriteResult">save</span><span class="delimiter">(</span><a href="#36976" title="(v1: A)com.mongodb.casbah.Imports.DBObject">dbObjView</a><span class="delimiter">(</span><a href="#36974" title="A">o</a><span class="delimiter">)</span>, <a href="#36979" title="com.mongodb.WriteConcern">concern</a><span class="delimiter">)</span>


  <span class="comment">/** Set hint fields for this collection.
   * @param lst a list of &lt;code&gt;DBObject&lt;/code&gt;s to be used as hints
   */</span>
  <span class="keyword">def</span> <a title="[A](docs: List[A])(implicit evidence$40: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="36989">setHintFields</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23435">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[A]" id="36988">docs</a>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[com.mongodb.casbah.Imports.DBObject,List[com.mongodb.casbah.Imports.DBObject]]" id="36992">b</a> = <span title="object List">List</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,List[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[com.mongodb.casbah.Imports.DBObject,List[com.mongodb.casbah.Imports.DBObject]]" class="delimiter">[</span><span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">]</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="37023">x</a> &lt;- <a href="#36988" title="(f: A =&gt; scala.collection.mutable.Builder[com.mongodb.casbah.Imports.DBObject,List[com.mongodb.casbah.Imports.DBObject]])Unit">docs</a><span class="delimiter">)</span> <a href="#36992" title="scala.collection.mutable.Builder[com.mongodb.casbah.Imports.DBObject,List[com.mongodb.casbah.Imports.DBObject]]">b</a> <span title="(elem: com.mongodb.casbah.Imports.DBObject)b.type">+=</span> <a href="#36989" title="(v1: A)com.mongodb.casbah.Imports.DBObject">x</a>
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.util.List[com.mongodb.DBObject])Unit">setHintFields</span><span class="delimiter">(</span><a href="#36992" title="scala.collection.mutable.Builder[com.mongodb.casbah.Imports.DBObject,List[com.mongodb.casbah.Imports.DBObject]]">b</a>.<span title="(b: Seq[com.mongodb.casbah.Imports.DBObject])collection.JavaConverters.AsJava[java.util.List[com.mongodb.casbah.Imports.DBObject]]">result</span>.<span title="=&gt; java.util.List[com.mongodb.casbah.Imports.DBObject]">asJava</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Set hint fields for this collection.
   * @param lst a list of &lt;code&gt;DBObject&lt;/code&gt;s to be used as hints
   */</span>
  <span class="keyword">def</span> <a title="[A](docs: List[A])(implicit evidence$41: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit" id="37071">hintFields_=</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23438">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[A]" id="37070">docs</a>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#36989" title="(docs: List[A])(implicit evidence$40: A =&gt; com.mongodb.casbah.Imports.DBObject)Unit">setHintFields</a><a href="#37071" title="A =&gt; com.mongodb.casbah.Imports.DBObject" class="delimiter">(</a><a href="#37070" title="List[A]">docs</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(path: String, c: Class[_])Unit" id="23439">setInternalClass</a><span class="delimiter">(</span><a title="String" id="37110">path</a>: <span title="String">String</span>, <a title="Class[_]" id="37111">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Class[_])Unit">setInternalClass</span><span class="delimiter">(</span><a href="#37110" title="String">path</a>, <a href="#37111" title="Class[_]">c</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(path: String, c: Class[_])Unit" id="23440">internalClass_=</a><span class="delimiter">(</span><a title="String" id="37119">path</a>: <span title="String">String</span>, <a title="Class[_]" id="37120">c</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#23439" title="(path: String, c: Class[_])Unit">setInternalClass</a><span class="delimiter">(</span><a href="#37119" title="String">path</a>, <a href="#37120" title="Class[_]">c</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="23441">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()java.lang.String">toString</span>

  <span class="comment">/**
   * Performs an update operation.
   * @param q search query for old object to update
   * @param o object with which to update &lt;tt&gt;q&lt;/tt&gt;
   * TODO - Wrapper for WriteResult?
   */</span>
  <span class="keyword">def</span> <a title="[A, B](q: A, o: B, upsert: Boolean, multi: Boolean, concern: com.mongodb.WriteConcern)(implicit queryView: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit objView: B =&gt; com.mongodb.casbah.Imports.DBObject, implicit encoder: com.mongodb.casbah.Imports.DBEncoder)com.mongodb.WriteResult" id="23442">update</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="37144">A</a>, <a title="&gt;: Nothing &lt;: Any" id="37145">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37456">q</a>: <a href="#37144" title="A">A</a>, <a title="B" id="37457">o</a>: <a href="#37145" title="B">B</a>, <a title="Boolean" id="37141">upsert</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="37146">multi</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>,  <a title="com.mongodb.WriteConcern" id="37151">concern</a>: com.mongodb.<span title="com.mongodb.WriteConcern">WriteConcern</span> = <a href="#10247" title="MongoCollectionBase.this.type" class="keyword">this</a>.<a href="#23474" title="=&gt; com.mongodb.WriteConcern">writeConcern</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="37136">queryView</a>: A =&gt; DBObject, <a title="B =&gt; com.mongodb.casbah.Imports.DBObject" id="37137">objView</a>: B =&gt; DBObject, <a title="com.mongodb.casbah.Imports.DBEncoder" id="37156">encoder</a>: <span title="com.mongodb.casbah.Imports.DBEncoder">DBEncoder</span> = <a href="#23284" title="=&gt; Option[com.mongodb.DBEncoderFactory]">customEncoderFactory</a>.<span title="(f: com.mongodb.DBEncoderFactory =&gt; com.mongodb.DBEncoder)Option[com.mongodb.DBEncoder]">map</span><span class="delimiter">(</span><a href="#37176" title="com.mongodb.DBEncoderFactory">_</a>.<span title="()com.mongodb.DBEncoder">create</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[Null,com.mongodb.casbah.Imports.DBEncoder])com.mongodb.casbah.Imports.DBEncoder">orNull</span> <span class="delimiter">)</span> =
    <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject, x$3: Boolean, x$4: Boolean, x$5: com.mongodb.WriteConcern, x$6: com.mongodb.DBEncoder)com.mongodb.WriteResult">update</span><span class="delimiter">(</span><a href="#37136" title="(v1: A)com.mongodb.casbah.Imports.DBObject">queryView</a><span class="delimiter">(</span><a href="#37456" title="A">q</a><span class="delimiter">)</span>, <a href="#37137" title="(v1: B)com.mongodb.casbah.Imports.DBObject">objView</a><span class="delimiter">(</span><a href="#37457" title="B">o</a><span class="delimiter">)</span>, <a href="#37141" title="Boolean">upsert</a>, <a href="#37146" title="Boolean">multi</a>, <a href="#37151" title="com.mongodb.WriteConcern">concern</a>, <a href="#37156" title="com.mongodb.casbah.Imports.DBEncoder">encoder</a><span class="delimiter">)</span>


  <span class="comment">/**
   * Perform a multi update
   * @param q search query for old object to update
   * @param o object with which to update &lt;tt&gt;q&lt;/tt&gt;
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;In the face of default arguments this is a bit silly. Please use update(multi=True)&quot;</span>, <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](q: A, o: B)(implicit evidence$42: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$43: B =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.WriteResult" id="37186">updateMulti</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23450">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="23451">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37183">q</a>: <a href="#23450" title="A">A</a>, <a title="B" id="37184">o</a>: <a href="#23451" title="B">B</a><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.DBObject, x$2: com.mongodb.DBObject)com.mongodb.WriteResult">updateMulti</span><span class="delimiter">(</span><a href="#37186" title="(v1: A)com.mongodb.casbah.Imports.DBObject">q</a>, <a href="#37186" title="(v1: B)com.mongodb.casbah.Imports.DBObject">o</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="23452">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Int">hashCode</span>

  <span class="comment">/** Checks if this collection is equal to another object.
   * @param o object with which to compare this collection
   * @return if the two collections are the same object
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(obj: Any)Boolean" id="23453">equals</a><span class="delimiter">(</span><a title="Any" id="37212">obj</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#37212" title="Any">obj</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="37215">other</a>: <a href="#10247" title="com.mongodb.casbah.MongoCollectionBase">MongoCollectionBase</a> =&gt; <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#37215" title="com.mongodb.casbah.MongoCollectionBase">other</a>.<a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](query: A, fields: B, limit: Long, skip: Long, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$44: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$45: B =&gt; com.mongodb.casbah.Imports.DBObject)Long" id="37223">count</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="37229">A</a> &lt;% DBObject, <a title="&gt;: Nothing &lt;: Any" id="37230">B</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37226">query</a>: <a href="#37229" title="A">A</a> = <a href="Implicits.scala.html#10202" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">empty</span>, <a title="B" id="37231">fields</a>: <a href="#37230" title="B">B</a> = <a href="Implicits.scala.html#10202" title="=&gt; com.mongodb.casbah.commons.MongoDBObject.type">MongoDBObject</a>.<span title="=&gt; com.mongodb.casbah.commons.Imports.DBObject">empty</span>,
                                          <a title="Long" id="37236">limit</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>, <a title="Long" id="37241">skip</a>: <span title="Long">Long</span> = <span title="Long(0L)" class="int">0</span>, <a title="com.mongodb.casbah.Imports.ReadPreference" id="37246">readPrefs</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a><span class="delimiter">)</span> =
    <a href="#32900" title="(query: A, fields: B, limit: Long, skip: Long, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$32: A =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$33: B =&gt; com.mongodb.casbah.Imports.DBObject)Long">getCount</a><a href="#37223" title="A =&gt; com.mongodb.casbah.Imports.DBObject" class="delimiter">(</a><a href="#37226" title="A">query</a>, <a href="#37231" title="B">fields</a>, <a href="#37236" title="Long">limit</a>, <a href="#37241" title="Long">skip</a>, <a href="#37246" title="com.mongodb.casbah.Imports.ReadPreference">readPrefs</a><span class="delimiter">)</span>

  <span class="comment">/**
   *  Gets the the error (if there is one) from the previous operation.  The result of
   *  this command will look like
   *
   * &lt;pre&gt;
   * { &quot;err&quot; :  errorMessage  , &quot;ok&quot; : 1.0 }
   * &lt;/pre&gt;
   *
   * The value for errorMessage will be null if no error occurred, or a description otherwise.
   *
   * Care must be taken to ensure that calls to getLastError go to the same connection as that
   * of the previous operation. See com.mongodb.Mongo.requestStart for more information.
   *
   *  @return DBObject with error and status information
   */</span>
  <span class="keyword">def</span> <a title="()com.mongodb.CommandResult" id="23459">getLastError</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23389" title="()com.mongodb.casbah.MongoDB">getDB</a>.<a href="MongoDB.scala.html#24150" title="()com.mongodb.CommandResult">getLastError</a>
  <span class="keyword">def</span> <a title="()com.mongodb.CommandResult" id="23460">lastError</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23459" title="()com.mongodb.CommandResult">getLastError</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(concern: com.mongodb.casbah.Imports.WriteConcern)com.mongodb.CommandResult" id="23461">getLastError</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.WriteConcern" id="37321">concern</a>: <span title="com.mongodb.casbah.Imports.WriteConcern">WriteConcern</span><span class="delimiter">)</span> =
    <a href="#23389" title="()com.mongodb.casbah.MongoDB">getDB</a>.<a href="MongoDB.scala.html#24152" title="(writeConcern: com.mongodb.casbah.Imports.WriteConcern)com.mongodb.CommandResult">getLastError</a><span class="delimiter">(</span><a href="#37321" title="com.mongodb.casbah.Imports.WriteConcern">concern</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(concern: com.mongodb.casbah.Imports.WriteConcern)com.mongodb.CommandResult" id="23462">lastError</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.WriteConcern" id="37326">concern</a>: <span title="com.mongodb.casbah.Imports.WriteConcern">WriteConcern</span><span class="delimiter">)</span> =
    <a href="#23461" title="(concern: com.mongodb.casbah.Imports.WriteConcern)com.mongodb.CommandResult">getLastError</a><span class="delimiter">(</span><a href="#37326" title="com.mongodb.casbah.Imports.WriteConcern">concern</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(w: Int, wTimeout: Int, fsync: Boolean)com.mongodb.CommandResult" id="23463">getLastError</a><span class="delimiter">(</span><a title="Int" id="37314">w</a>: <span title="Int">Int</span>, <a title="Int" id="37315">wTimeout</a>: <span title="Int">Int</span>, <a title="Boolean" id="37316">fsync</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    <a href="#23389" title="()com.mongodb.casbah.MongoDB">getDB</a>.<a href="MongoDB.scala.html#24154" title="(w: Int, wTimeout: Int, fsync: Boolean)com.mongodb.CommandResult">getLastError</a><span class="delimiter">(</span><a href="#37314" title="Int">w</a>, <a href="#37315" title="Int">wTimeout</a>, <a href="#37316" title="Boolean">fsync</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(w: Int, wTimeout: Int, fsync: Boolean)com.mongodb.CommandResult" id="23464">lastError</a><span class="delimiter">(</span><a title="Int" id="37333">w</a>: <span title="Int">Int</span>, <a title="Int" id="37334">wTimeout</a>: <span title="Int">Int</span>, <a title="Boolean" id="37335">fsync</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    <a href="#23463" title="(w: Int, wTimeout: Int, fsync: Boolean)com.mongodb.CommandResult">getLastError</a><span class="delimiter">(</span><a href="#37333" title="Int">w</a>, <a href="#37334" title="Int">wTimeout</a>, <a href="#37335" title="Boolean">fsync</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Save an object to the Collection
   *
   * @param x object to save to the collection
   */</span>
  <span class="keyword">def</span> <a title="[A](x: A)(implicit evidence$46: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.WriteResult" id="37343">+=</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23467">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37342">x</a>: <a href="#23467" title="A">A</a><span class="delimiter">)</span> = <a href="#23430" title="(o: A, concern: com.mongodb.WriteConcern)(implicit dbObjView: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.WriteResult">save</a><a href="#37343" title="A =&gt; com.mongodb.casbah.Imports.DBObject" class="delimiter">(</a><a href="#37342" title="A">x</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Remove a matching object from the collection
   *
   * @param x object to remove from the collection
   */</span>
  <span class="keyword">def</span> <a title="[A](x: A)(implicit evidence$47: A =&gt; com.mongodb.casbah.Imports.DBObject)com.mongodb.WriteResult" id="37366">-=</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23470">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37365">x</a>: <a href="#23470" title="A">A</a><span class="delimiter">)</span> = <a href="#36949" title="com.mongodb.WriteConcern" id="37391">remove</a><a href="#37366" title="A =&gt; com.mongodb.casbah.Imports.DBObject" id="37400" class="delimiter">(</a><a href="#37365" title="A" id="37390">x</a><span class="delimiter">)</span>

  <span class="comment">/**
   *
   * Set the write concern for this database.
   * Will be used for writes to any collection in this database.
   * See the documentation for {@link com.mongodb.WriteConcern} for more info.
   *
   * @param concern (WriteConcern) The write concern to use
   * @see WriteConcern
   * @see http://www.thebuzzmedia.com/mongodb-single-server-data-durability-guide/
   */</span>
  <span class="keyword">def</span> <a title="(concern: com.mongodb.casbah.Imports.WriteConcern)Unit" id="23471">setWriteConcern</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.WriteConcern" id="37403">concern</a>: <span title="com.mongodb.casbah.Imports.WriteConcern">WriteConcern</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.WriteConcern)Unit">setWriteConcern</span><span class="delimiter">(</span><a href="#37403" title="com.mongodb.casbah.Imports.WriteConcern">concern</a><span class="delimiter">)</span>

  <span class="comment">/**
   *
   * Set the write concern for this database.
   * Will be used for writes to any collection in this database.
   * See the documentation for {@link com.mongodb.WriteConcern} for more info.
   *
   * @param concern (WriteConcern) The write concern to use
   * @see WriteConcern
   * @see http://www.thebuzzmedia.com/mongodb-single-server-data-durability-guide/
   */</span>
  <span class="keyword">def</span> <a title="(concern: com.mongodb.casbah.Imports.WriteConcern)Unit" id="23472">writeConcern_=</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.WriteConcern" id="37406">concern</a>: <span title="com.mongodb.casbah.Imports.WriteConcern">WriteConcern</span><span class="delimiter">)</span> = <a href="#23471" title="(concern: com.mongodb.casbah.Imports.WriteConcern)Unit">setWriteConcern</a><span class="delimiter">(</span><a href="#37406" title="com.mongodb.casbah.Imports.WriteConcern">concern</a><span class="delimiter">)</span>

  <span class="comment">/**
   *
   * get the write concern for this database,
   * which is used for writes to any collection in this database.
   * See the documentation for {@link com.mongodb.WriteConcern} for more info.
   *
   * @see WriteConcern
   * @see http://www.thebuzzmedia.com/mongodb-single-server-data-durability-guide/
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.WriteConcern" id="23473">getWriteConcern</a> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.WriteConcern">getWriteConcern</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   *
   * get the write concern for this database,
   * which is used for writes to any collection in this database.
   * See the documentation for {@link com.mongodb.WriteConcern} for more info.
   *
   * @see WriteConcern
   * @see http://www.thebuzzmedia.com/mongodb-single-server-data-durability-guide/
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.WriteConcern" id="23474">writeConcern</a> = <a href="#23473" title="=&gt; com.mongodb.WriteConcern">getWriteConcern</a>
  <span class="comment">/**
   * Sets the read preference for this collection. Will be used as default for
   * reads from any collection in this collection. See the
   * documentation for {@link ReadPreference} for more information.
   *
   * @param preference Read Preference to use
   */</span>
  <span class="keyword">def</span> <a title="(pref: com.mongodb.casbah.Imports.ReadPreference)Unit" id="23475">readPreference_=</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.ReadPreference" id="37409">pref</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span><span class="delimiter">)</span> = <a href="#23476" title="(pref: com.mongodb.casbah.Imports.ReadPreference)Unit">setReadPreference</a><span class="delimiter">(</span><a href="#37409" title="com.mongodb.casbah.Imports.ReadPreference">pref</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets the read preference for this collection. Will be used as default for
   * reads from any collection in this collection. See the
   * documentation for {@link ReadPreference} for more information.
   *
   * @param preference Read Preference to use
   */</span>
  <span class="keyword">def</span> <a title="(pref: com.mongodb.casbah.Imports.ReadPreference)Unit" id="23476">setReadPreference</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.ReadPreference" id="37412">pref</a>: <span title="com.mongodb.casbah.Imports.ReadPreference">ReadPreference</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: com.mongodb.ReadPreference)Unit">setReadPreference</span><span class="delimiter">(</span><a href="#37412" title="com.mongodb.casbah.Imports.ReadPreference">pref</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Gets the read preference for this collection. Will be used as default for
   * reads from any collection in this collection. See the
   * documentation for {@link ReadPreference} for more information.
   *
   * @param preference Read Preference to use
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.ReadPreference" id="23477">readPreference</a> = <a href="#23478" title="=&gt; com.mongodb.ReadPreference">getReadPreference</a>

  <span class="comment">/**
   * Gets the read preference for this collection. Will be used as default for
   * reads from any collection in this collection. See the
   * documentation for {@link ReadPreference} for more information.
   *
   * @param preference Read Preference to use
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.mongodb.ReadPreference" id="23478">getReadPreference</a> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()com.mongodb.ReadPreference">getReadPreference</span>

  <span class="comment">/**
   * Manipulate Network Options
   *
   * @see com.mongodb.Mongo
   * @see com.mongodb.Bytes
   */</span>
  <span class="keyword">def</span> <a title="(option: Int)Unit" id="23479">addOption</a><span class="delimiter">(</span><a title="Int" id="37418">option</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: Int)Unit">addOption</span><span class="delimiter">(</span><a href="#37418" title="Int">option</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Manipulate Network Options
   *
   * @see com.mongodb.Mongo
   * @see com.mongodb.Bytes
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="23480">resetOptions</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">resetOptions</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// use parens because this side-effects</span>

  <span class="comment">/**
   * Manipulate Network Options
   *
   * @see com.mongodb.Mongo
   * @see com.mongodb.Bytes
   */</span>
  <span class="keyword">def</span> <a title="()Int" id="23481">getOptions</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Int">getOptions</span>

  <span class="comment">/**
   * Manipulate Network Options
   *
   * @see com.mongodb.Mongo
   * @see com.mongodb.Bytes
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="23482">options</a> = <a href="#23481" title="()Int">getOptions</a>

  <span class="comment">/**
   * Sets queries to be OK to run on slave nodes.
   * @deprecated Replaced with ReadPreference.SECONDARY
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Replaced with ReadPreference.SECONDARY&quot;</span>, <span class="string">&quot;2.3.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="()Unit" id="23483">slaveOk</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="()Unit">slaveOk</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// use parens because this side-effects</span>

  <span class="comment">/**
   * does a rename of this collection to newName
   * As per the Java API this returns a *NEW* Collection,
   * and the old collection is probably no good anymore.
   *
   * This collection *WILL NOT* mutate --- the instance will
   * still point at a now nonexistant collection with the old name
   * ... You must capture the return value for the new instance.
   *
   * @param newName new collection name (not a full namespace)
   * @return the new collection
   */</span>
  <span class="keyword">def</span> <a title="(newName: String)com.mongodb.casbah.MongoCollection" id="23484">rename</a><span class="delimiter">(</span><a title="String" id="37430">newName</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a> =
    <span title="com.mongodb.casbah.MongoCollection" class="keyword">new</span> <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a><span class="delimiter">(</span><a href="#10247" title="MongoCollectionBase.this.type">self</a>.<a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String)com.mongodb.DBCollection">rename</span><span class="delimiter">(</span><a href="#37430" title="String">newName</a><span class="delimiter">)</span><span class="delimiter">)</span>

<span class="comment">/*
  def command(cmd: DBObject, options: Int, readPrefs: ReadPreference = getReadPreference) =
    underlying.command(cmd, options, readPrefs)
*/</span>

  <span class="comment">/**
   *
   * does a rename of this collection to newName
   * As per the Java API this returns a *NEW* Collection,
   * and the old collection is probably no good anymore.
   *
   * This collection *WILL NOT* mutate --- the instance will
   * still point at a now nonexistant collection with the old name
   * ... You must capture the return value for the new instance.
   *
   * @param newName new collection name (not a full namespace)
   * @param dropTarget if a collection with the new name exists, whether or not to drop it
   * @return the new collection
   */</span>
  <span class="keyword">def</span> <a title="(newName: String, dropTarget: Boolean)com.mongodb.casbah.MongoCollection" id="23485">rename</a><span class="delimiter">(</span><a title="String" id="37434">newName</a>: <span title="String">String</span>, <a title="Boolean" id="37435">dropTarget</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a> =
    <span title="com.mongodb.casbah.MongoCollection" class="keyword">new</span> <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a><span class="delimiter">(</span><a href="#10247" title="MongoCollectionBase.this.type">self</a>.<a href="#23282" title="=&gt; com.mongodb.DBCollection">underlying</a>.<span title="(x$1: java.lang.String, x$2: Boolean)com.mongodb.DBCollection">rename</span><span class="delimiter">(</span><a href="#37434" title="String">newName</a>, <a href="#37435" title="Boolean">dropTarget</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * _newCursor
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of the correct cursor implementation from a
   * Java cursor.  Good with cursor calls that return a new cursor.
   * Should figure out the right type to return based on typing setup.
   *
   * @param  cursor (DBCursor)
   * @return (MongoCursorBase)
   */</span>
  <span class="keyword">def</span> <a title="(cursor: com.mongodb.DBCursor)MongoCollectionBase.this.CursorType" id="23486">_newCursor</a><span class="delimiter">(</span><a title="com.mongodb.DBCursor" id="31436">cursor</a>: <span title="com.mongodb.DBCursor">DBCursor</span><span class="delimiter">)</span>: <a href="#23281" title="MongoCollectionBase.this.CursorType">CursorType</a>

  <span class="comment">/**
   * _newInstance
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of THIS concrete implementation from a
   * Java collection.  Good with calls that return a new collection.
   *
   * @param  cursor (DBCollection)
   * @return (this.type)
   */</span>
  <span class="keyword">def</span> <a title="(collection: com.mongodb.DBCollection)com.mongodb.casbah.MongoCollectionBase" id="23487">_newInstance</a><span class="delimiter">(</span><a title="com.mongodb.DBCollection" id="37439">collection</a>: <span title="com.mongodb.DBCollection">DBCollection</span><span class="delimiter">)</span>: <a href="#10247" title="com.mongodb.casbah.MongoCollectionBase">MongoCollectionBase</a>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[MongoCollectionBase.this.T]" id="23488">_typedValue</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.DBObject" id="32551">dbObj</a>: <span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">)</span>: <span title="Option[MongoCollectionBase.this.T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="(x: MongoCollectionBase.this.T)Option[MongoCollectionBase.this.T]">Option</span><span class="delimiter">(</span><a href="#32551" title="com.mongodb.casbah.Imports.DBObject">dbObj</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="MongoCollectionBase.this.T" class="delimiter">[</span><a href="#23280" title="MongoCollectionBase.this.T">T</a><span class="delimiter">]</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Concrete collection implementation expecting standard DBObject operation
 * This is the version of MongoCollectionBase you should expect to use in most cases.
 *
 * @version 2.0, 12/23/10
 * @since 1.0
 *
 * @tparam DBObject
 */</span>
<span class="keyword">class</span> <a title="class MongoCollection extends java.lang.Object with com.mongodb.casbah.MongoCollectionBase with Iterable[com.mongodb.casbah.Imports.DBObject] with ScalaObject" id="10248">MongoCollection</a><a href="#10248" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="com.mongodb.DBCollection" id="24104">underlying</a>: <span title="com.mongodb.DBCollection">DBCollection</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10247" title="com.mongodb.casbah.MongoCollectionBase">MongoCollectionBase</a> <span class="keyword">with</span> <span title="Iterable[com.mongodb.casbah.Imports.DBObject]">Iterable</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">type</span> <a title="com.mongodb.casbah.Imports.DBObject" id="24093">T</a> = <span title="com.mongodb.casbah.Imports.DBObject">DBObject</span>
  <span class="keyword">type</span> <a title="com.mongodb.casbah.MongoCursor" id="24094">CursorType</a> = <a href="MongoCursor.scala.html#10281" title="com.mongodb.casbah.MongoCursor">MongoCursor</a>

  <span class="comment">/**
   * _newCursor
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of the correct cursor implementation from a
   * Java cursor.  Good with cursor calls that return a new cursor.
   * Should figure out the right type to return based on typing setup.
   *
   * @param  cursor (DBCursor)
   * @return (MongoCursorBase)
   */</span>
  <span class="keyword">def</span> <a title="(cursor: com.mongodb.DBCursor)com.mongodb.casbah.MongoCursor" id="24095">_newCursor</a><span class="delimiter">(</span><a title="com.mongodb.DBCursor" id="37575">cursor</a>: <span title="com.mongodb.DBCursor">DBCursor</span><span class="delimiter">)</span> = <span title="com.mongodb.casbah.MongoCursor" class="keyword">new</span> <a href="MongoCursor.scala.html#10281" title="com.mongodb.casbah.MongoCursor">MongoCursor</a><span class="delimiter">(</span><a href="#37575" title="com.mongodb.DBCursor">cursor</a><span class="delimiter">)</span>

  <span class="comment">/**
   * _newInstance
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of THIS concrete implementation from a
   * Java collection.  Good with calls that return a new collection.
   *
   * @param  cursor (DBCollection)
   * @return (this.type)
   */</span>
  <span class="keyword">def</span> <a title="(collection: com.mongodb.DBCollection)com.mongodb.casbah.MongoCollection" id="24096">_newInstance</a><span class="delimiter">(</span><a title="com.mongodb.DBCollection" id="37578">collection</a>: <span title="com.mongodb.DBCollection">DBCollection</span><span class="delimiter">)</span>: <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a> = <span title="com.mongodb.casbah.MongoCollection" class="keyword">new</span> <a href="#10248" title="com.mongodb.casbah.MongoCollection">MongoCollection</a><span class="delimiter">(</span><a href="#37578" title="com.mongodb.DBCollection">collection</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(dbObj: com.mongodb.casbah.Imports.DBObject)Option[com.mongodb.casbah.Imports.DBObject]" id="24097">_typedValue</a><span class="delimiter">(</span><a title="com.mongodb.casbah.Imports.DBObject" id="37580">dbObj</a>: <span title="com.mongodb.casbah.Imports.DBObject">DBObject</span><span class="delimiter">)</span>: <span title="Option[com.mongodb.casbah.Imports.DBObject]">Option</span><span class="delimiter">[</span>DBObject<span class="delimiter">]</span> = <span title="(x: com.mongodb.casbah.Imports.DBObject)Option[com.mongodb.casbah.Imports.DBObject]">Option</span><span class="delimiter">(</span><a href="#37580" title="com.mongodb.casbah.Imports.DBObject">dbObj</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; MongoCollection.this.T" id="24098">head</a> = <a href="#24099" title="=&gt; Option[MongoCollection.this.T]">headOption</a>.<span title="=&gt; MongoCollection.this.T">get</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[MongoCollection.this.T]" id="24099">headOption</a> = <a href="#23342" title="()Option[MongoCollection.this.T]">findOne</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterable[com.mongodb.casbah.Imports.DBObject]" id="24100">tail</a> = <a href="#23328" title="()MongoCollection.this.CursorType">find</a>.<a href="MongoCursor.scala.html#22698" title="(n: Int)com.mongodb.casbah.MongoCursor">skip</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Iterable[com.mongodb.casbah.Imports.DBObject]">toIterable</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; MongoCollection.this.CursorType" id="24101">iterator</a> = <a href="#23328" title="()MongoCollection.this.CursorType">find</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="24102">size</a> = <a href="#37223" title="(query: com.mongodb.casbah.commons.Imports.DBObject, fields: com.mongodb.casbah.commons.Imports.DBObject, limit: Long, skip: Long, readPrefs: com.mongodb.casbah.Imports.ReadPreference)(implicit evidence$44: com.mongodb.casbah.commons.Imports.DBObject =&gt; com.mongodb.casbah.Imports.DBObject, implicit evidence$45: com.mongodb.casbah.commons.Imports.DBObject =&gt; com.mongodb.casbah.Imports.DBObject)Long">count</a><span title="&lt;:&lt;[com.mongodb.casbah.commons.Imports.DBObject,com.mongodb.casbah.commons.Imports.DBObject]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="24103">toString</a> = <a href="#23395" title="=&gt; java.lang.String">name</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * Concrete collection implementation for typed Cursor operations via Collection.setObjectClass et al
 * This is a special case collection for typed operations
 *
 * @version 2.0, 12/23/10
 * @since 1.0
 *
 * @param  val underlying (DBCollection)
 * @tparam T  A Subclass of DBObject
 */</span>
<span class="keyword">trait</span> <a title="trait MongoTypedCollection extends java.lang.Object with com.mongodb.casbah.MongoCollectionBase" id="10249">MongoTypedCollection</a> <span class="keyword">extends</span> <a href="#10247" title="com.mongodb.casbah.MongoCollectionBase">MongoCollectionBase</a> <span class="delimiter">{</span>

<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class MongoGenericTypedCollection[A &lt;: com.mongodb.casbah.Imports.DBObject] extends java.lang.Object with com.mongodb.casbah.MongoTypedCollection with ScalaObject" id="10250">MongoGenericTypedCollection</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: com.mongodb.casbah.Imports.DBObject" id="10251">A</a> &lt;: DBObject<span class="delimiter">]</span><a href="#10250" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="com.mongodb.DBCollection" id="23497">underlying</a>: <span title="com.mongodb.DBCollection">DBCollection</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10249" title="com.mongodb.casbah.MongoTypedCollection">MongoTypedCollection</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="A" id="23493">T</a> = <a href="#10251" title="A">A</a>
  <span class="keyword">type</span> <a title="com.mongodb.casbah.MongoGenericTypedCursor[A]" id="23494">CursorType</a> = <a href="MongoCursor.scala.html#10284" title="com.mongodb.casbah.MongoGenericTypedCursor[A]">MongoGenericTypedCursor</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="comment">/**
   * _newCursor
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of the correct cursor implementation from a
   * Java cursor.  Good with cursor calls that return a new cursor.
   * Should figure out the right type to return based on typing setup.
   *
   * @param  cursor (DBCursor)
   * @return (MongoCollectionBase)
   */</span>
  <span class="keyword">def</span> <a title="(cursor: com.mongodb.DBCursor)com.mongodb.casbah.MongoGenericTypedCursor[MongoGenericTypedCollection.this.T]" id="23495">_newCursor</a><span class="delimiter">(</span><a title="com.mongodb.DBCursor" id="37891">cursor</a>: <span title="com.mongodb.DBCursor">DBCursor</span><span class="delimiter">)</span> = <span title="com.mongodb.casbah.MongoGenericTypedCursor[MongoGenericTypedCollection.this.T]" class="keyword">new</span> <a href="MongoCursor.scala.html#10284" title="com.mongodb.casbah.MongoGenericTypedCursor[MongoGenericTypedCollection.this.T]">MongoGenericTypedCursor</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#37891" title="com.mongodb.DBCursor">cursor</a><span class="delimiter">)</span>

  <span class="comment">/**
   * _newInstance
   *
   * Utility method which concrete subclasses
   * are expected to implement for creating a new
   * instance of THIS concrete implementation from a
   * Java collection.  Good with calls that return a new collection.
   *
   * @param  cursor (DBCollection)
   * @return (this.type)
   */</span>
  <span class="keyword">def</span> <a title="(collection: com.mongodb.DBCollection)com.mongodb.casbah.MongoGenericTypedCollection[MongoGenericTypedCollection.this.T]" id="23496">_newInstance</a><span class="delimiter">(</span><a title="com.mongodb.DBCollection" id="37894">collection</a>: <span title="com.mongodb.DBCollection">DBCollection</span><span class="delimiter">)</span> = <span title="com.mongodb.casbah.MongoGenericTypedCollection[MongoGenericTypedCollection.this.T]" class="keyword">new</span> <a href="#10250" title="com.mongodb.casbah.MongoGenericTypedCollection[MongoGenericTypedCollection.this.T]">MongoGenericTypedCollection</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#37894" title="com.mongodb.DBCollection">collection</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Helper object for some static methods
 */</span>
<span class="keyword">object</span> <a title="object com.mongodb.casbah.MongoCollection" id="10252">MongoCollection</a> <span title="ScalaObject" class="keyword">extends</span> <span title="com.mongodb.casbah.commons.Logging">Logging</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * generateIndexName
   *
   * Generate an index name from the set of fields it is over
   *
   * @param  keys (A) The names of the fields used in this index
   * @return a String containing the new name, represented from the index' fields
   * @tparam A A View of DBObject
   */</span>
  <span class="keyword">def</span> <a title="[A](keys: A)(implicit evidence$48: A =&gt; com.mongodb.casbah.Imports.DBObject)java.lang.String" id="37903">generateIndexName</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="37900">A</a> &lt;% DBObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="37902">keys</a>: <a href="#37900" title="A">A</a><span class="delimiter">)</span> = <span title="object com.mongodb.DBCollection">DBCollection</span>.<span title="(x$1: com.mongodb.DBObject)java.lang.String">genIndexName</span><span class="delimiter">(</span><a href="#37903" title="(v1: A)com.mongodb.casbah.Imports.DBObject">keys</a><span class="delimiter">)</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>